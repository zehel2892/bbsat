(function(e,t){sumo.define("plugins/css",[],function(){if(typeof window=="undefined")return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?r=!1:t[4]&&(n=parseInt(t[4])<18);var i={};i.pluginBuilder="./css-builder";var s,o=function(){s=document.createElement("style"),e.appendChild(s)},u=function(e,t){o();var n=s.styleSheet||s.sheet;if(n&&n.addImport)n.addImport(e),s.onload=t;else{s.textContent='@import "'+e+'";';var r=setInterval(function(){try{s.sheet.cssRules,clearInterval(r),t()}catch(e){}},10)}},a=function(t,n){var i=document.createElement("link");i.type="text/css",i.rel="stylesheet";if(r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==i.href)return clearInterval(s),n()}},10);i.href=t,e.appendChild(i)};return i.normalize=function(e,t){return e.substr(e.length-4,4)==".css"&&(e=e.substr(0,e.length-4)),t(e)},i.load=function(e,t,r,i){(n?u:a)(t.toUrl(e+".css"),r)},i}),sumo.define("punycode",function(){}),sumo.define("IPv6",function(){}),sumo.define("SecondLevelDomains",function(){}),function(n,r){typeof e=="object"?t.exports=r(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):typeof sumo.define=="function"&&sumo.define.amd?sumo.define("URI",["./punycode","./IPv6","./SecondLevelDomains"],r):n.URI=r(n.punycode,n.IPv6,n.SecondLevelDomains,n)}(this,function(e,t,n,r){function s(e,t){return this instanceof s?(e===undefined&&(typeof location!="undefined"?e=location.href+"":e=""),this.href(e),t!==undefined?this.absoluteTo(t):this):new s(e,t)}function a(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function f(e){return e===undefined?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function l(e){return f(e)==="Array"}function c(e,t){var n={},r,i;if(l(t))for(r=0,i=t.length;r<i;r++)n[t[r]]=!0;else n[t]=!0;for(r=0,i=e.length;r<i;r++)n[e[r]]!==undefined&&(e.splice(r,1),i--,r--);return e}function h(e,t){var n,r;if(l(t)){for(n=0,r=t.length;n<r;n++)if(!h(e,t[n]))return!1;return!0}var i=f(t);for(n=0,r=e.length;n<r;n++)if(i==="RegExp"){if(typeof e[n]=="string"&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function p(e,t){if(!l(e)||!l(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function d(e){return escape(e)}function v(e){return encodeURIComponent(e).replace(/[!'()*]/g,d).replace(/\*/g,"%2A")}var i=r&&r.URI;s.version="1.12.0";var o=s.prototype,u=Object.prototype.hasOwnProperty;s._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:s.duplicateQueryParameters,escapeQuerySpace:s.escapeQuerySpace}},s.duplicateQueryParameters=!1,s.escapeQuerySpace=!0,s.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,s.idn_expression=/[^a-z0-9\.-]/i,s.punycode_expression=/(xn--)/i,s.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,s.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig,s.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},s.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},s.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,s.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},s.getDomAttribute=function(e){if(!e||!e.nodeName)return undefined;var t=e.nodeName.toLowerCase();return t==="input"&&e.type!=="image"?undefined:s.domAttributes[t]},s.encode=v,s.decode=decodeURIComponent,s.iso8859=function(){s.encode=escape,s.decode=unescape},s.unicode=function(){s.encode=v,s.decode=decodeURIComponent},s.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},s.encodeQuery=function(e,t){var n=s.encode(e+"");return t?n.replace(/%20/g,"+"):n},s.decodeQuery=function(e,t){e+="";try{return s.decode(t?e.replace(/\+/g,"%20"):e)}catch(n){return e}},s.recodePath=function(e){var t=(e+"").split("/");for(var n=0,r=t.length;n<r;n++)t[n]=s.encodePathSegment(s.decode(t[n]));return t.join("/")},s.decodePath=function(e){var t=(e+"").split("/");for(var n=0,r=t.length;n<r;n++)t[n]=s.decodePathSegment(t[n]);return t.join("/")};var m={encode:"encode",decode:"decode"},g,y=function(e,t){return function(n){return s[t](n+"").replace(s.characters[e][t].expression,function(n){return s.characters[e][t].map[n]})}};for(g in m)s[g+"PathSegment"]=y("pathname",m[g]);s.encodeReserved=y("reserved","encode"),s.parse=function(e,t){var n;return t||(t={}),n=e.indexOf("#"),n>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),n=e.indexOf("?"),n>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),e.substring(0,2)==="//"?(t.protocol=null,e=e.substring(2),e=s.parseAuthority(e,t)):(n=e.indexOf(":"),n>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(s.protocol_expression)?t.protocol=undefined:t.protocol==="file"?e=e.substring(n+3):e.substring(n+1,n+3)==="//"?(e=e.substring(n+3),e=s.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0))),t.path=e,t},s.parseHost=function(e,t){var n=e.indexOf("/"),r,i;return n===-1&&(n=e.length),e.charAt(0)==="["?(r=e.indexOf("]"),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,n)||null):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,n)||null,t.port=null):(i=e.substring(0,n).split(":"),t.hostname=i[0]||null,t.port=i[1]||null),t.hostname&&e.substring(n).charAt(0)!=="/"&&(n++,e="/"+e),e.substring(n)||"/"},s.parseAuthority=function(e,t){return e=s.parseUserinfo(e,t),s.parseHost(e,t)},s.parseUserinfo=function(e,t){var n=e.indexOf("/"),r=n>-1?e.lastIndexOf("@",n):e.indexOf("@"),i;return r>-1&&(n===-1||r<n)?(i=e.substring(0,r).split(":"),t.username=i[0]?s.decode(i[0]):null,i.shift(),t.password=i[0]?s.decode(i.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},s.parseQuery=function(e,t){if(!e)return{};e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!e)return{};var n={},r=e.split("&"),i=r.length,o,u,a;for(var f=0;f<i;f++)o=r[f].split("="),u=s.decodeQuery(o.shift(),t),a=o.length?s.decodeQuery(o.join("="),t):null,n[u]?(typeof n[u]=="string"&&(n[u]=[n[u]]),n[u].push(a)):n[u]=a;return n},s.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),!e.urn&&(t||e.hostname)&&(t+="//"),t+=s.buildAuthority(e)||"",typeof e.path=="string"&&(e.path.charAt(0)!=="/"&&typeof e.hostname=="string"&&(t+="/"),t+=e.path),typeof e.query=="string"&&e.query&&(t+="?"+e.query),typeof e.fragment=="string"&&e.fragment&&(t+="#"+e.fragment),t},s.buildHost=function(e){var t="";return e.hostname?(s.ip6_expression.test(e.hostname)?e.port?t+="["+e.hostname+"]:"+e.port:t+=e.hostname:(t+=e.hostname,e.port&&(t+=":"+e.port)),t):""},s.buildAuthority=function(e){return s.buildUserinfo(e)+s.buildHost(e)},s.buildUserinfo=function(e){var t="";return e.username&&(t+=s.encode(e.username),e.password&&(t+=":"+s.encode(e.password)),t+="@"),t},s.buildQuery=function(e,t,n){var r="",i,o,a,f;for(o in e)if(u.call(e,o)&&o)if(l(e[o])){i={};for(a=0,f=e[o].length;a<f;a++)e[o][a]!==undefined&&i[e[o][a]+""]===undefined&&(r+="&"+s.buildQueryParameter(o,e[o][a],n),t!==!0&&(i[e[o][a]+""]=!0))}else e[o]!==undefined&&(r+="&"+s.buildQueryParameter(o,e[o],n));return r.substring(1)},s.buildQueryParameter=function(e,t,n){return s.encodeQuery(e,n)+(t!==null?"="+s.encodeQuery(t,n):"")},s.addQuery=function(e,t,n){if(typeof t=="object")for(var r in t)u.call(t,r)&&s.addQuery(e,r,t[r]);else{if(typeof t!="string")throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(e[t]===undefined){e[t]=n;return}typeof e[t]=="string"&&(e[t]=[e[t]]),l(n)||(n=[n]),e[t]=e[t].concat(n)}},s.removeQuery=function(e,t,n){var r,i,o;if(l(t))for(r=0,i=t.length;r<i;r++)e[t[r]]=undefined;else if(typeof t=="object")for(o in t)u.call(t,o)&&s.removeQuery(e,o,t[o]);else{if(typeof t!="string")throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");n!==undefined?e[t]===n?e[t]=undefined:l(e[t])&&(e[t]=c(e[t],n)):e[t]=undefined}},s.hasQuery=function(e,t,n,r){if(typeof t=="object"){for(var i in t)if(u.call(t,i)&&!s.hasQuery(e,i,t[i]))return!1;return!0}if(typeof t!="string")throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(f(n)){case"Undefined":return t in e;case"Boolean":var o=Boolean(l(e[t])?e[t].length:e[t]);return n===o;case"Function":return!!n(e[t],t,e);case"Array":if(!l(e[t]))return!1;var a=r?h:p;return a(e[t],n);case"RegExp":if(!l(e[t]))return Boolean(e[t]&&e[t].match(n));if(!r)return!1;return h(e[t],n);case"Number":n=String(n);case"String":if(!l(e[t]))return e[t]===n;if(!r)return!1;return h(e[t],n);default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},s.commonPath=function(e,t){var n=Math.min(e.length,t.length),r;for(r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}if(r<1)return e.charAt(0)===t.charAt(0)&&e.charAt(0)==="/"?"/":"";if(e.charAt(r)!=="/"||t.charAt(r)!=="/")r=e.substring(0,r).lastIndexOf("/");return e.substring(0,r+1)},s.withinString=function(e,t,n){n||(n={});var r=n.start||s.findUri.start,i=n.end||s.findUri.end,o=n.trim||s.findUri.trim,u=/[a-z0-9-]=["']?$/i;r.lastIndex=0;for(;;){var a=r.exec(e);if(!a)break;var f=a.index;if(n.ignoreHtml){var l=e.slice(Math.max(f-3,0),f);if(l&&u.test(l))continue}var c=f+e.slice(f).search(i),h=e.slice(f,c).replace(o,"");if(n.ignore&&n.ignore.test(h))continue;c=f+h.length;var p=t(h,f,c,e);e=e.slice(0,f)+p+e.slice(c),r.lastIndex=f+p.length}return r.lastIndex=0,e},s.ensureValidHostname=function(t){if(t.match(s.invalid_hostname_characters)){if(!e)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(e.toASCII(t).match(s.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}},s.noConflict=function(e){if(e){var n={URI:this.noConflict()};return URITemplate&&typeof URITemplate.noConflict=="function"&&(n.URITemplate=URITemplate.noConflict()),t&&typeof t.noConflict=="function"&&(n.IPv6=t.noConflict()),SecondLevelDomains&&typeof SecondLevelDomains.noConflict=="function"&&(n.SecondLevelDomains=SecondLevelDomains.noConflict()),n}return r.URI===this&&(r.URI=i),this},o.build=function(e){if(e===!0)this._deferred_build=!0;else if(e===undefined||this._deferred_build)this._string=s.build(this._parts),this._deferred_build=!1;return this},o.clone=function(){return new s(this)},o.valueOf=o.toString=function(){return this.build(!1)._string},m={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},y=function(e){return function(t,n){return t===undefined?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}};for(g in m)o[g]=y(m[g]);m={query:"?",fragment:"#"},y=function(e,t){return function(n,r){return n===undefined?this._parts[e]||"":(n!==null&&(n+="",n.charAt(0)===t&&(n=n.substring(1))),this._parts[e]=n,this.build(!r),this)}};for(g in m)o[g]=y(g,m[g]);m={search:["?","query"],hash:["#","fragment"]},y=function(e,t){return function(n,r){var i=this[e](n,r);return typeof i=="string"&&i.length?t+i:i}};for(g in m)o[g]=y(m[g][1],m[g][0]);o.pathname=function(e,t){if(e===undefined||e===!0){var n=this._parts.path||(this._parts.hostname?"/":"");return e?s.decodePath(n):n}return this._parts.path=e?s.recodePath(e):"/",this.build(!t),this},o.path=o.pathname,o.href=function(e,t){var n;if(e===undefined)return this.toString();this._string="",this._parts=s._parts();var r=e instanceof s,i=typeof e=="object"&&(e.hostname||e.path||e.pathname);if(e.nodeName){var o=s.getDomAttribute(e);e=e[o]||"",i=!1}!r&&i&&e.pathname!==undefined&&(e=e.toString());if(typeof e=="string")this._parts=s.parse(e,this._parts);else{if(!r&&!i)throw new TypeError("invalid input");var a=r?e._parts:e;for(n in a)u.call(this._parts,n)&&(this._parts[n]=a[n])}return this.build(!t),this},o.is=function(e){var t=!1,r=!1,i=!1,o=!1,u=!1,a=!1,f=!1,l=!this._parts.urn;this._parts.hostname&&(l=!1,r=s.ip4_expression.test(this._parts.hostname),i=s.ip6_expression.test(this._parts.hostname),t=r||i,o=!t,u=o&&n&&n.has(this._parts.hostname),a=o&&s.idn_expression.test(this._parts.hostname),f=o&&s.punycode_expression.test(this._parts.hostname));switch(e.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return o;case"sld":return u;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return i;case"idn":return a;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return f}return null};var b=o.protocol,w=o.port,E=o.hostname;o.protocol=function(e,t){if(e!==undefined&&e){e=e.replace(/:(\/\/)?$/,"");if(!e.match(s.protocol_expression))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]")}return b.call(this,e,t)},o.scheme=o.protocol,o.port=function(e,t){if(this._parts.urn)return e===undefined?"":this;if(e!==undefined){e===0&&(e=null);if(e){e+="",e.charAt(0)===":"&&(e=e.substring(1));if(e.match(/[^0-9]/))throw new TypeError("Port '"+e+"' contains characters other than [0-9]")}}return w.call(this,e,t)},o.hostname=function(e,t){if(this._parts.urn)return e===undefined?"":this;if(e!==undefined){var n={};s.parseHost(e,n),e=n.hostname}return E.call(this,e,t)},o.host=function(e,t){return this._parts.urn?e===undefined?"":this:e===undefined?this._parts.hostname?s.buildHost(this._parts):"":(s.parseHost(e,this._parts),this.build(!t),this)},o.authority=function(e,t){return this._parts.urn?e===undefined?"":this:e===undefined?this._parts.hostname?s.buildAuthority(this._parts):"":(s.parseAuthority(e,this._parts),this.build(!t),this)},o.userinfo=function(e,t){if(this._parts.urn)return e===undefined?"":this;if(e===undefined){if(!this._parts.username)return"";var n=s.buildUserinfo(this._parts);return n.substring(0,n.length-1)}return e[e.length-1]!=="@"&&(e+="@"),s.parseUserinfo(e,this._parts),this.build(!t),this},o.resource=function(e,t){var n;return e===undefined?this.path()+this.search()+this.hash():(n=s.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},o.subdomain=function(e,t){if(this._parts.urn)return e===undefined?"":this;if(e===undefined){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,r),o=new RegExp("^"+a(i));return e&&e.charAt(e.length-1)!=="."&&(e+="."),e&&s.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(o,e),this.build(!t),this},o.domain=function(e,t){if(this._parts.urn)return e===undefined?"":this;typeof e=="boolean"&&(t=e,e=undefined);if(e===undefined){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");s.ensureValidHostname(e);if(!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var i=new RegExp(a(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},o.tld=function(e,t){if(this._parts.urn)return e===undefined?"":this;typeof e=="boolean"&&(t=e,e=undefined);if(e===undefined){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return t!==!0&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}var s;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");s=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},o.directory=function(e,t){if(this._parts.urn)return e===undefined?"":this;if(e===undefined||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if(this._parts.path==="/")return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?s.decodePath(r):r}var i=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,i),u=new RegExp("^"+a(o));return this.is("relative")||(e||(e="/"),e.charAt(0)!=="/"&&(e="/"+e)),e&&e.charAt(e.length-1)!=="/"&&(e+="/"),e=s.recodePath(e),this._parts.path=this._parts.path.replace(u,e),this.build(!t),this},o.filename=function(e,t){if(this._parts.urn)return e===undefined?"":this;if(e===undefined||e===!0){if(!this._parts.path||this._parts.path==="/")return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?s.decodePathSegment(r):r}var i=!1;e.charAt(0)==="/"&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0);var o=new RegExp(a(this.filename())+"$");return e=s.recodePath(e),this._parts.path=this._parts.path.replace(o,e),i?this.normalizePath(t):this.build(!t),this},o.suffix=function(e,t){if(this._parts.urn)return e===undefined?"":this;if(e===undefined||e===!0){if(!this._parts.path||this._parts.path==="/")return"";var n=this.filename(),r=n.lastIndexOf("."),i,o;return r===-1?"":(i=n.substring(r+1),o=/^[a-z0-9%]+$/i.test(i)?i:"",e?s.decodePathSegment(o):o)}e.charAt(0)==="."&&(e=e.substring(1));var u=this.suffix(),f;if(!u){if(!e)return this;this._parts.path+="."+s.recodePath(e)}else e?f=new RegExp(a(u)+"$"):f=new RegExp(a("."+u)+"$");return f&&(e=s.recodePath(e),this._parts.path=this._parts.path.replace(f,e)),this.build(!t),this},o.segment=function(e,t,n){var r=this._parts.urn?":":"/",i=this.path(),s=i.substring(0,1)==="/",o=i.split(r);e!==undefined&&typeof e!="number"&&(n=t,t=e,e=undefined);if(e!==undefined&&typeof e!="number")throw new Error("Bad segment '"+e+"', must be 0-based integer");s&&o.shift(),e<0&&(e=Math.max(o.length+e,0));if(t===undefined)return e===undefined?o:o[e];if(e===null||o[e]===undefined){if(l(t)){o=[];for(var u=0,a=t.length;u<a;u++){if(!t[u].length&&(!o.length||!o[o.length-1].length))continue;o.length&&!o[o.length-1].length&&o.pop(),o.push(t[u])}}else if(t||typeof t=="string")o[o.length-1]===""?o[o.length-1]=t:o.push(t)}else t||typeof t=="string"&&t.length?o[e]=t:o.splice(e,1);return s&&o.unshift(""),this.path(o.join(r),n)},o.segmentCoded=function(e,t,n){var r,i,o;typeof e!="number"&&(n=t,t=e,e=undefined);if(t===undefined){r=this.segment(e,t,n);if(!l(r))r=r!==undefined?s.decode(r):undefined;else for(i=0,o=r.length;i<o;i++)r[i]=s.decode(r[i]);return r}if(!l(t))t=typeof t=="string"?s.encode(t):t;else for(i=0,o=t.length;i<o;i++)t[i]=s.decode(t[i]);return this.segment(e,t,n)};var S=o.query;return o.query=function(e,t){if(e===!0)return s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof e=="function"){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=s.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return e!==undefined&&typeof e!="string"?(this._parts.query=s.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):S.call(this,e,t)},o.setQuery=function(e,t,n){var r=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof e=="object")for(var i in e)u.call(e,i)&&(r[i]=e[i]);else{if(typeof e!="string")throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");r[e]=t!==undefined?t:null}return this._parts.query=s.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof e!="string"&&(n=t),this.build(!n),this},o.addQuery=function(e,t,n){var r=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.addQuery(r,e,t===undefined?null:t),this._parts.query=s.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof e!="string"&&(n=t),this.build(!n),this},o.removeQuery=function(e,t,n){var r=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.removeQuery(r,e,t),this._parts.query=s.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof e!="string"&&(n=t),this.build(!n),this},o.hasQuery=function(e,t,n){var r=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.hasQuery(r,e,t,n)},o.setSearch=o.setQuery,o.addSearch=o.addQuery,o.removeSearch=o.removeQuery,o.hasSearch=o.hasQuery,o.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},o.normalizeProtocol=function(e){return typeof this._parts.protocol=="string"&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},o.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},o.normalizePort=function(e){return typeof this._parts.protocol=="string"&&this._parts.port===s.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},o.normalizePath=function(e){if(this._parts.urn)return this;if(!this._parts.path||this._parts.path==="/")return this;var t,n=this._parts.path,r="",i,o;n.charAt(0)!=="/"&&(t=!0,n="/"+n),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(r=n.substring(1).match(/^(\.\.\/)+/)||"",r&&(r=r[0]));for(;;){i=n.indexOf("/..");if(i===-1)break;if(i===0){n=n.substring(3);continue}o=n.substring(0,i).lastIndexOf("/"),o===-1&&(o=i),n=n.substring(0,o)+n.substring(i+3)}return t&&this.is("relative")&&(n=r+n.substring(1)),n=s.recodePath(n),this._parts.path=n,this.build(!e),this},o.normalizePathname=o.normalizePath,o.normalizeQuery=function(e){return typeof this._parts.query=="string"&&(this._parts.query.length?this.query(s.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},o.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},o.normalizeSearch=o.normalizeQuery,o.normalizeHash=o.normalizeFragment,o.iso8859=function(){var e=s.encode,t=s.decode;return s.encode=escape,s.decode=decodeURIComponent,this.normalize(),s.encode=e,s.decode=t,this},o.unicode=function(){var e=s.encode,t=s.decode;return s.encode=v,s.decode=unescape,this.normalize(),s.encode=e,s.decode=t,this},o.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&t._parts.path.charAt(0)!=="/"&&(n+="/"),n+=t.path(!0);if(t._parts.query){var r="";for(var i=0,o=t._parts.query.split("&"),u=o.length;i<u;i++){var a=(o[i]||"").split("=");r+="&"+s.decodeQuery(a[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),a[1]!==undefined&&(r+="="+s.decodeQuery(a[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=s.decodeQuery(t.hash(),!0),n},o.absoluteTo=function(e){var t=this.clone(),n=["protocol","username","password","hostname","port"],r,i,o;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");e instanceof s||(e=new s(e)),t._parts.protocol||(t._parts.protocol=e._parts.protocol);if(this._parts.hostname)return t;for(i=0;o=n[i];i++)t._parts[o]=e._parts[o];return t._parts.path?t._parts.path.substring(-2)===".."&&(t._parts.path+="/"):(t._parts.path=e._parts.path,t._parts.query||(t._parts.query=e._parts.query)),t.path().charAt(0)!=="/"&&(r=e.directory(),t._parts.path=(r?r+"/":"")+t._parts.path,t.normalizePath()),t.build(),t},o.relativeTo=function(e){var t=this.clone().normalize(),n,r,i,o,u;if(t._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");e=(new s(e)).normalize(),n=t._parts,r=e._parts,o=t.path(),u=e.path();if(o.charAt(0)!=="/")throw new Error("URI is already relative");if(u.charAt(0)!=="/")throw new Error("Cannot calculate a URI relative to another relative URI");n.protocol===r.protocol&&(n.protocol=null);if(n.username!==r.username||n.password!==r.password)return t.build();if(n.protocol!==null||n.username!==null||n.password!==null)return t.build();if(n.hostname!==r.hostname||n.port!==r.port)return t.build();n.hostname=null,n.port=null;if(o===u)return n.path="",t.build();i=s.commonPath(t.path(),e.path());if(!i)return t.build();var a=r.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return n.path=a+n.path.substring(i.length),t.build()},o.equals=function(e){var t=this.clone(),n=new s(e),r={},i={},o={},a,f,c;t.normalize(),n.normalize();if(t.toString()===n.toString())return!0;a=t.query(),f=n.query(),t.query(""),n.query("");if(t.toString()!==n.toString())return!1;if(a.length!==f.length)return!1;r=s.parseQuery(a,this._parts.escapeQuerySpace),i=s.parseQuery(f,this._parts.escapeQuerySpace);for(c in r)if(u.call(r,c)){if(!l(r[c])){if(r[c]!==i[c])return!1}else if(!p(r[c],i[c]))return!1;o[c]=!0}for(c in i)if(u.call(i,c)&&!o[c])return!1;return!0},o.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},o.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},s}),sumo.define("color",[],function(){var e={lightOrDark:function(e){var t,n,r,i;return e.toHex&&(e="#"+e.toHex()),e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],r=e[2],n=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),t=e>>16,r=e>>8&255,n=e&255),i=Math.sqrt(.299*t*t+.587*r*r+.114*n*n),i>127.5?"light":"dark"},whiteOrBlack:function(e){return this.lightOrDark(e)=="light"?"black":"white"},shadeColor:function(e,t){e=e.toString();var n=parseInt(e.slice(1),16),r=Math.round(2.55*t),i=(n>>16)+r,s=(n>>8&255)+r,o=(n&255)+r;return"#"+(16777216+(i<255?i<1?0:i:255)*65536+(s<255?s<1?0:s:255)*256+(o<255?o<1?0:o:255)).toString(16).slice(1)},RGBColor:function(e){this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}}];for(var n=0;n<t.length;n++){var r=t[n].re,i=t[n].process,s=r.exec(e);s&&(channels=i(s),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return e.length==1&&(e="0"+e),t.length==1&&(t="0"+t),n.length==1&&(n="0"+n),"#"+e+t+n}},hexToRGBA:function(e,t){var n=new this.RGBColor(e);return n.a=t||1,n.toRGBA()}};return e}),function(){var n=this,r=n._,i={},s=Array.prototype,o=Object.prototype,u=Function.prototype;try{var a=document.createElement("iframe");a.style.display="none",document.body.appendChild(a),u=a.contentWindow.Function.prototype,s=a.contentWindow.Array.prototype,o=a.contentWindow.Object.prototype,a.parentNode.removeChild(a)}catch(f){}var l=s.push,c=s.slice,h=s.concat,p=o.toString,d=o.hasOwnProperty,v=s.forEach,m=s.map,g=s.reduce,y=s.reduceRight,b=s.filter,w=s.every,E=s.some,S=s.indexOf,x=s.lastIndexOf,T=Array.isArray,N=Object.keys,C=u.bind,k=function(e){if(e instanceof k)return e;if(!(this instanceof k))return new k(e);this._wrapped=e};typeof e!="undefined"?(typeof t!="undefined"&&t.exports&&(e=t.exports=k),e._=k):n!=window&&(n._=k),k.VERSION="1.5.2";var L=k.each=k.forEach=function(e,t,n){if(e==null)return;if(v&&e.forEach===v)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e)===i)return}else{var o=k.keys(e);for(var r=0,s=o.length;r<s;r++)if(t.call(n,e[o[r]],o[r],e)===i)return}};k.map=k.collect=function(e,t,n){var r=[];return e==null?r:m&&e.map===m?e.map(t,n):(L(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var A="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(g&&e.reduce===g)return r&&(t=k.bind(t,r)),i?e.reduce(t,n):e.reduce(t);L(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(A);return n},k.reduceRight=k.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(y&&e.reduceRight===y)return r&&(t=k.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=k.keys(e);s=o.length}L(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(A);return n},k.find=k.detect=function(e,t,n){var r;return O(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},k.filter=k.select=function(e,t,n){var r=[];return e==null?r:b&&e.filter===b?e.filter(t,n):(L(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},k.reject=function(e,t,n){return k.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},k.every=k.all=function(e,t,n){t||(t=k.identity);var r=!0;return e==null?r:w&&e.every===w?e.every(t,n):(L(e,function(e,s,o){if(!(r=r&&t.call(n,e,s,o)))return i}),!!r)};var O=k.some=k.any=function(e,t,n){t||(t=k.identity);var r=!1;return e==null?r:E&&e.some===E?e.some(t,n):(L(e,function(e,s,o){if(r||(r=t.call(n,e,s,o)))return i}),!!r)};k.contains=k.include=function(e,t){return e==null?!1:S&&e.indexOf===S?e.indexOf(t)!=-1:O(e,function(e){return e===t})},k.invoke=function(e,t){var n=c.call(arguments,2),r=k.isFunction(t);return k.map(e,function(e){return(r?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,function(e){return e[t]})},k.where=function(e,t,n){return k.isEmpty(t)?n?void 0:[]:k[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},k.findWhere=function(e,t){return k.where(e,t,!0)},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&k.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return L(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})}),r.value},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&k.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return L(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},k.shuffle=function(e){var t,n=0,r=[];return L(e,function(e){t=k.random(n++),r[n-1]=r[t],r[t]=e}),r},k.sample=function(e,t,n){return arguments.length<2||n?e[k.random(e.length-1)]:k.shuffle(e).slice(0,Math.max(0,t))};var M=function(e){return k.isFunction(e)?e:function(t){return t[e]}};k.sortBy=function(e,t,n){var r=M(t);return k.pluck(k.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var _=function(e){return function(t,n,r){var i={},s=n==null?k.identity:M(n);return L(t,function(n,o){var u=s.call(r,n,o,t);e(i,u,n)}),i}};k.groupBy=_(function(e,t,n){(k.has(e,t)?e[t]:e[t]=[]).push(n)}),k.indexBy=_(function(e,t,n){e[t]=n}),k.countBy=_(function(e,t){k.has(e,t)?e[t]++:e[t]=1}),k.sortedIndex=function(e,t,n,r){n=n==null?k.identity:M(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},k.toArray=function(e){return e?k.isArray(e)?c.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return e==null?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:c.call(e,0,t)},k.initial=function(e,t,n){return c.call(e,0,e.length-(t==null||n?1:t))},k.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:c.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return c.call(e,t==null||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var D=function(e,t,n){return t&&k.every(e,k.isArray)?h.apply(n,e):(L(e,function(e){k.isArray(e)||k.isArguments(e)?t?l.apply(n,e):D(e,t,n):n.push(e)}),n)};k.flatten=function(e,t){return D(e,t,[])},k.without=function(e){return k.difference(e,c.call(arguments,1))},k.uniq=k.unique=function(e,t,n,r){k.isFunction(t)&&(r=n,n=t,t=!1);var i=n?k.map(e,n,r):e,s=[],o=[];return L(i,function(n,r){if(t?!r||o[o.length-1]!==n:!k.contains(o,n))o.push(n),s.push(e[r])}),s},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(e){var t=c.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.indexOf(t,e)>=0})})},k.difference=function(e){var t=h.apply(s,c.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){var e=k.max(k.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=k.pluck(arguments,""+n);return t},k.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},k.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=k.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(S&&e.indexOf===S)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},k.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(x&&e.lastIndexOf===x)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var P=function(){};k.bind=function(e,t){var n,r;if(C&&e.bind===C)return C.apply(e,c.call(arguments,1));if(!k.isFunction(e))throw new TypeError;return n=c.call(arguments,2),r=function(){if(this instanceof r){P.prototype=e.prototype;var i=new P;P.prototype=null;var s=e.apply(i,n.concat(c.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(c.call(arguments)))}},k.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}},k.bindAll=function(e){var t=c.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return L(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var r=t.apply(this,arguments);return k.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},k.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(c.call(arguments,1)))},k.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date,o=null,s=e.apply(r,i)};return function(){var f=new Date;!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},k.debounce=function(e,t,n){var r,i,s,o,u;return function(){s=this,i=arguments,o=new Date;var a=function(){var f=new Date-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i)))},f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i)),u}},k.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},k.wrap=function(e,t){return function(){var n=[e];return l.apply(n,arguments),t.apply(this,n)}},k.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},k.keys=N||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)k.has(e,n)&&t.push(n);return t},k.values=function(e){var t=k.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},k.pairs=function(e){var t=k.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},k.invert=function(e){var t={},n=k.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return L(c.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=h.apply(s,c.call(arguments,1));return L(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=h.apply(s,c.call(arguments,1));for(var r in e)k.contains(n,r)||(t[r]=e[r]);return t},k.defaults=function(e){return L(c.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var H=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var i=p.call(e);if(i!=p.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(k.isFunction(o)&&o instanceof o&&k.isFunction(u)&&u instanceof u))return!1;n.push(e),r.push(t);var a=0,f=!0;if(i=="[object Array]"){a=e.length,f=a==t.length;if(f)while(a--)if(!(f=H(e[a],t[a],n,r)))break}else{for(var l in e)if(k.has(e,l)){a++;if(!(f=k.has(t,l)&&H(e[l],t[l],n,r)))break}if(f){for(l in t)if(k.has(t,l)&&!(a--))break;f=!a}}return n.pop(),r.pop(),f};k.isEqual=function(e,t){return H(e,t,[],[])},k.isEmpty=function(e){if(e==null)return!0;if(k.isArray(e)||k.isString(e))return e.length===0;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!!e&&e.nodeType===1},k.isArray=T||function(e){return p.call(e)=="[object Array]"},k.isObject=function(e){return e===Object(e)},L(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return p.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!!e&&!!k.has(e,"callee")}),typeof /./!="function"&&(k.isFunction=function(e){return typeof e=="function"}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||p.call(e)=="[object Boolean]"},k.isNull=function(e){return e===null},k.isUndefined=function(e){return e===void 0},k.has=function(e,t){return d.call(e,t)},k.noConflict=function(){return n._=r,this},k.identity=function(e){return e},k.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},k.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var B={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};B.unescape=k.invert(B.escape);var j={escape:new RegExp("["+k.keys(B.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(B.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return t==null?"":(""+t).replace(j[e],function(t){return B[e][t]})}}),k.result=function(e,t){if(e==null)return void 0;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){L(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),U.call(this,n.apply(k,e))}})};var F=0;k.uniqueId=function(e){var t=++F+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var r;n=k.defaults({},n,k.templateSettings);var i=new RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(R,function(e){return"\\"+q[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,k);var a=function(e){return r.call(this,e,k)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},k.chain=function(e){return k(e).chain()};var U=function(e){return this._chain?k(e).chain():e};k.mixin(k),L(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],U.call(this,n)}}),L(["concat","join","slice"],function(e){var t=s[e];k.prototype[e]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof sumo.define=="function"&&sumo.define.amd&&sumo.define("underscore",[],function(){return k})}.call(this),sumo.define("underscore-lib",function(){}),sumo.define("underscore",["underscore-lib"],function(e){return e.noConflict()}),function(){var n;n=function(e){var t,n;return t=!1,e(function(){var r;return r=(document.body||document.documentElement).style,t=r.animation!==void 0||r.WebkitAnimation!==void 0||r.MozAnimation!==void 0||r.MsAnimation!==void 0||r.OAnimation!==void 0,e(window).bind("resize.vex",function(e){if(e&&e.type=="resize"&&e.target!=window)return;return n.resize()}),e(window).bind("keyup.vex",function(e){if(e.keyCode===27)return n.closeByEscape()})}),n={globalID:1,animationEndEvent:"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",baseClassNames:{vex:"sumome-vex",content:"sumome-vex-content",overlay:"sumome-vex-overlay",close:"sumome-vex-close",closing:"sumome-vex-closing",open:"sumome-vex-open"},defaultOptions:{content:"",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",css:{},overlayClassName:"",overlayCSS:{},contentClassName:"",contentCSS:{},closeClassName:"",closeCSS:{}},open:function(t){return t=e.extend({},n.defaultOptions,t),t.id=n.globalID,n.globalID+=1,t.$vex=e("<div>").addClass(n.baseClassNames.vex).addClass(t.className).css(t.css).data({vex:t}),t.$vexOverlay=e("<div>").addClass(n.baseClassNames.overlay).addClass(t.overlayClassName).css(t.overlayCSS).data({vex:t}),t.overlayClosesOnClick&&t.$vexOverlay.bind("click.vex",function(t){if(t.target!==this)return;return n.close(e(this).data().vex.id)}),t.$vex.append(t.$vexOverlay),t.$vexContent=e("<div>").addClass(n.baseClassNames.content).addClass(t.contentClassName).css(t.contentCSS).append(t.content).data({vex:t}),t.$vexContent.bind("resize.vex",function(e){return n.resize()}),t.$vex.append(t.$vexContent),t.customCloseButton?t.showCloseButton&&(t.$closeButton=t.$vexContent.find("."+t.closeClassName).eq(0).data({vex:t}).bind("click.vex",function(){return n.close(e(this).data().vex.id)})):t.showCloseButton&&(t.$closeButton=e("<div>").addClass(n.baseClassNames.close).addClass(t.closeClassName).css(t.closeCSS).data({vex:t}).bind("click.vex",function(){return n.close(e(this).data().vex.id)}),t.$vexContent.append(t.$closeButton)),e(t.appendLocation).append(t.$vex),n.setupBodyClassName(t.$vex),t.afterOpen&&t.afterOpen(t.$vexContent,t),setTimeout(function(){return t.$vexContent.trigger("vexOpen",t)},0),t.$vexContent},getAllVexes:function(){return e("."+n.baseClassNames.vex+':not(".'+n.baseClassNames.closing+'") .'+n.baseClassNames.content)},getVexByID:function(t){return n.getAllVexes().filter(function(){return e(this).data().vex.id===t})},close:function(e){var t;if(!e){t=n.getAllVexes().last();if(!t.length)return!1;e=t.data().vex.id}return n.closeByID(e)},closeAll:function(){var t;return t=n.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),(t!=null?!t.length:!void 0)?!1:(e.each(t.reverse(),function(e,t){return n.closeByID(t)}),!0)},closeByID:function(r){var i,s,o,u,a;s=n.getVexByID(r);if(!s.length)return;return i=s.data().vex.$vex,a=e.extend({},s.data().vex),o=function(){if(a.beforeClose)return a.beforeClose(s,a)},u=function(){s.trigger("vexClose",a),i.remove();if(a.afterClose)return a.afterClose(s,a)},t?(o(),i.unbind(n.animationEndEvent).bind(n.animationEndEvent,function(){return u()}).addClass(n.baseClassNames.closing)):(o(),u()),!0},resizeByID:function(t){var r,i,s,o,u;i=n.getVexByID(t);if(!i.length)return;return r=i.data().vex.$vex,u=e.extend({},i.data().vex),i.trigger("vexResize",u),!0},resize:function(){var t,r,i;return i=n.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),(i!=null?!i.length:!void 0)?!1:(r=Math.max.apply(Math,i),t=n.getVexByID(r),n.resizeByID(r))},closeByEscape:function(){var t,r,i;return i=n.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),(i!=null?!i.length:!void 0)?!1:(r=Math.max.apply(Math,i),t=n.getVexByID(r),t.data().vex.escapeButtonCloses!==!0?!1:n.closeByID(r))},setupBodyClassName:function(t){return t.bind("vexOpen.vex",function(){return e("body").addClass(n.baseClassNames.open)}).bind("vexClose.vex",function(){if(!n.getAllVexes().length)return e("body").removeClass(n.baseClassNames.open)})},hideLoading:function(){return e(".vex-loading-spinner").remove()},showLoading:function(){return n.hideLoading(),e("body").append('<div class="vex-loading-spinner '+n.defaultOptions.className+'"></div>')}}},typeof sumo.define=="function"&&sumo.define.amd?sumo.define("vex",["jquery"],n):typeof e=="object"?t.exports=n(require("jquery")):window.vex=n(jQuery)}.call(this),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=typeof location!="undefined"&&location.href,i=r&&location.protocol&&location.protocol.replace(/\:/,""),s=r&&location.hostname,o=r&&(location.port||void 0),u=[];sumo.define("plugins/text",[],function(){var a,f,l;return typeof window!="undefined"&&window.navigator&&window.document?f=function(e,t){var n=a.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&process.versions.node?(l=require.nodeRequire("fs"),f=function(e,t){t(l.readFileSync(e,"utf8"))}):typeof Packages!="undefined"&&(f=function(e,t){var n=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),n=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),"utf-8")),i,s,o="";try{i=new java.lang.StringBuffer,(s=n.readLine())&&s.length()&&s.charAt(0)===65279&&(s=s.substring(1));for(i.append(s);(s=n.readLine())!==null;)i.append(r),i.append(s);o=String(i.toString())}finally{n.close()}t(o)}),a={version:"1.0.2",strip:function(e){if(e){var e=e.replace(t,""),r=e.match(n);r&&(e=r[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(n=0;n<3;n++){r=e[n];try{t=new ActiveXObject(r)}catch(i){}if(t){e=[r];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:f,parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),e=e.substring(n+1,e.length),n=e.indexOf("!");return n!==-1&&(t=e.substring(n+1,e.length),t=t==="strip",e=e.substring(0,n)),{moduleName:r,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,r){var i=a.xdRegExp.exec(e),s;return i?(e=i[2],i=i[3],i=i.split(":"),s=i[1],i=i[0],(!e||e===t)&&(!i||i===n)&&(!s&&!i||s===r)):!0},finishLoad:function(e,t,n,r,i){n=t?a.strip(n):n,i.isBuild&&(u[e]=n),r(n)},load:function(e,t,n,u){if(u.isBuild&&!u.inlineText)n();else{var f=a.parseName(e),l=f.moduleName+"."+f.ext,c=t.toUrl(l),h=u&&u.text&&u.text.useXhr||a.useXhr;!r||h(c,i,s,o)?a.get(c,function(t){a.finishLoad(e,f.strip,t,n,u)}):t([l],function(e){a.finishLoad(f.moduleName+"."+f.ext,f.strip,e,n,u)})}},write:function(e,t,n){if(t in u){var r=a.jsEscape(u[t]);n.asModule(e+"!"+t,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,t,n,r,i){var t=a.parseName(t),s=t.moduleName+"."+t.ext,o=n.toUrl(t.moduleName+"."+t.ext)+".js";a.load(s,n,function(){var t=function(e){return r(o,e)};t.asModule=function(e,t){return r.asModule(e,o,t)},a.write(e,s,t,i)},i)}}})}(),sumo.define("plugins/text!9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/templates/share.html",[],function(){return""}),sumo.define("jquery.article",["jquery"],function(e){e.expr[":"].emptytext=e.expr.createPseudo(function(t){return function(t){return e.trim(e(t).text())===""}}),e.fn.findIncludeSelf=function(t,n){return e(this).is(n)?this.find(t):this.find(t).addBack(t)},e.fn.exists=function(){return this.length!==0},e.fn.findLeaves=function(t,n){var r=e(this),i=r.findIncludeSelf(t,"body").filter(n);return i.filter(function(){return!e(this).find(i).exists()})},e.fn.findTrunks=function(t,n){var r=e(this),i=r.findIncludeSelf(t,"body").filter(n);return i.filter(function(){return!e(this).parents().filter(i).exists()})};var t=function(t){var n=t||e("body").find("main, [role=main]").eq(0).get(0)||"body",r=e(),i=":not([class^=comment],[id^=comment],[class*=footer],.sidebar:not(body) *,aside *,#sidebar *,footer *,[class*=footer]:not(body) *,#comments *,#livefyre-comments *,[class^=fyre] *,[class^=comment],[id^=comment] *,[class*=related-post]:not(body) *,.archive-page,:emptytext,.tve-leads-lightbox article)",s=["article",".post",".entry-content",".post-content",".post_box",".post-item",".blog-post-wrapper",".type-post","#content",".blog_content","main .hentry","[role=main] .hentry","main .content","[role=main] .content","#post-content","#blog-content"],o=[":has(> p + p + p)"];for(var u=0;u<s.length;u++){r=e(n).findLeaves(s[u],i);if(r.length>0)return r}for(var u=0;u<o.length;u++){r=e(n).findTrunks(o[u],i);if(r.length>0)return r}return r},n=function(t){var n=null,r=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],i={};try{r.forEach(function(r){n=e(t).find(r);if(n.length>0)throw i})}catch(s){if(s===i)return n.eq(0);throw s}return null},r=function(t){var n=null,r=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not(.post-meta-info *, [class^=comment-count], [class^=comments-link], [class^=comments-number], li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],i={};try{r.forEach(function(r){n=e(t).find(r);if(n.length>0)throw i})}catch(s){if(s===i)return n.eq(0).hasClass("fb-comments")&&n.eq(0).prev("h3 + p").length>0?n.eq(0).prev("h3 + p").prev("h3"):n.eq(0);throw s}return null},i=function(e){return n(e)},s=function(t){var n=null,r=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],i={};try{r.forEach(function(r){n=e(t).find(r).filter("[href]");if(n.length>0)throw i})}catch(s){if(s===i)return n.eq(0);throw s}return null};e.articles=function(o){if("__smCache"in window&&"articles"in window.__smCache)return window.__smCache.articles;var u=t(o);return u.each(function(){this._header=n(e(this)),this._footer=r(e(this)),this._title=this._header?i(this._header):null,!this._title&&this._header&&(this._title=this._header),this._title?this._titleText=this._title.text().trim():this._titleText=null;var t=this._header?s(this._header):null;t?this._anchor=t:this._anchor=s(e(this)),this._anchor?this._url=this._anchor.attr("href"):this._url=null,this._url||(this._url=window.location.href)}),u=u.filter(function(){if(this._header){var t=e(this).outerHeight()*.666;if(t&&this._header.outerHeight()>=t)return!1}return!0}),"location"in window&&"search"in window.location&&window.location.search.indexOf("smdebug")>=0&&(window.__sm$=e,u.each(function(){e(this).css("background","rgba(0,0,255,.5)"),this._header&&this._header.css("background","rgba(0,255,0,.5)"),this._title&&this._title.css("background","rgba(255,0,0,.5)"),this._footer&&this._footer.css("background","rgba(255,255,0,.5)")})),"__smCache"in window||(window.__smCache={}),window.__smCache.articles=u,setTimeout(function(){"__smCache"in window&&delete window.__smCache.articles},1e4),u},e.article=function(){return e.articles().eq(0)}}),sumo.define("jquery.print-preview",["jquery"],function(e){e.fn.printPreview=function(){return e.printPreview.loadPrintPreview(),this};var t,n,r,i,s=function(){var e,t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");while(n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",r[0]);return t>4?t:e}();e.printPreview={loadPrintPreview:function(){r=e('<div id="sumome-share-print-modal"></div>'),i=e('<div id="sumome-share-print-modal-controls"><a href="#" class="sumome-share-print-modal-controls-print" title="Print page">Print page</a><a href="#" class="sumome-share-print-modal-controls-close" title="Close print preview">Close</a>').hide();var t=e('<iframe id="sumome-share-print-modal-content" scrolling="no" border="0" frameborder="0" name="print-frame" />');r.hide().append(i).append(t).appendTo("body");var n=t[0].contentWindow.document;n.open(),n.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>'+document.title+"</title></head>"+"<body></body>"+"</html>"),n.close();var s=e("head link[media*=print], head link[media=all]").clone(),o=e("body > *:not(#sumome-share-print-modal):not(script)").clone();s.each(function(){e(this).attr("media","all")}),e("head",n).append(s),e("body",n).append(o),e("a",n).bind("click.printPreview",function(e){e.preventDefault()}),e("head").append('<style type="text/css">@media print {/* -- Print Preview --*/#sumome-share-print-modal-mask,#sumome-share-print-modal {display: none !important;}}</style>'),e.printPreview.loadMask(),e("body").css({overflowY:"hidden",height:"100%"}),e("img",n).load(function(){t.height(e("body",t.contents())[0].scrollHeight)}),starting_position=e(window).height()+e(window).scrollTop();var u={top:starting_position,height:"100%",overflowY:"auto",zIndex:1e4,display:"block"};r.css(u).animate({top:e(window).scrollTop()},400,"linear",function(){i.fadeIn("slow").focus()}),t.height(e("body",t.contents())[0].scrollHeight),e("a",i).bind("click",function(t){t.preventDefault(),e(this).hasClass("sumome-share-print-modal-controls-print")?window.print():e.printPreview.distroyPrintPreview()})},distroyPrintPreview:function(){i.fadeOut(100),r.animate({top:e(window).scrollTop()-e(window).height(),opacity:1},400,"linear",function(){r.remove(),e("body").css({overflowY:"auto",height:"auto"})}),t.fadeOut("slow",function(){t.remove()}),e(document).unbind("keydown.printPreview.mask"),t.unbind("click.printPreview.mask"),e(window).unbind("resize.printPreview.mask")},loadMask:function(){n=e.printPreview.sizeUpMask(),t=e('<div id="sumome-share-print-modal-mask" />').appendTo(e("body")),t.css({position:"absolute",top:0,left:0,width:n[0],height:n[1],display:"none",opacity:0,zIndex:9999,backgroundColor:"#000"}),t.css({display:"block"}).fadeTo("400",.75),e(window).bind("resize..printPreview.mask",function(){e.printPreview.updateMaskSize()}),t.bind("click.printPreview.mask",function(t){e.printPreview.distroyPrintPreview()}),e(document).bind("keydown.printPreview.mask",function(t){t.keyCode==27&&e.printPreview.distroyPrintPreview()})},sizeUpMask:function(){if(s){var t=e(document).height(),n=e(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t-n<20?n:t]}return[e(document).width(),e(document).height()]},updateMaskSize:function(){var n=e.printPreview.sizeUpMask();t.css({width:n[0],height:n[1]})}}}),sumo.define("jquery.share",["jquery","jquery.print-preview"],function(e){e.shareServices={amazonuniversalregistry:{name:"Amazon Universal Registry",url:"https://www.amazon.com/registry/add?t={TEXT}&u={URL}",width:1e3,height:640,background:"#F7AD29",color:"#fff"},amazonuswishlist:{name:"Amazon Wishlist",url:"https://www.amazon.com/wishlist/add?t={TEXT}&u={URL}",width:1e3,height:640,background:"#FC9A18",color:"#fff"},aollifestream:{name:"AOL Lifestream",url:"http://lifestream.aol.com/share/?url={URL}&title={TEXT}&description={DESC}",width:580,height:440,background:"#8DB822",color:"#fff"},aolmail:{name:"AOL Mail",url:"https://mail.aol.com/webmail-std/en-us/composemessage?to=&subject={TEXT}&body={URL}",width:600,height:500,background:"#262626",color:"#fff"},arto:{name:"Arto",url:"http://www.arto.com/section/linkshare/default.aspx?lu={URL}&ln={TEXT}",width:1e3,height:770,background:"#8DB822",color:"#fff"},bitly:{name:"Bitly",url:"https://bitly.com/a/bitmarklet?u={URL}",width:1160,height:500,background:"#EE6023",color:"#fff"},bloggerpost:{name:"Blogger",url:"https://www.blogger.com/blog-this.g?t&u={URL}&n={TEXT}",width:750,height:700,background:"#F79638",color:"#fff"},boxnet:{name:"Box",url:"https://www.box.com/api/1.0/import?import_as=link&url={URL}&name={TEXT}",width:500,height:500,background:"#2F88B1",color:"#fff"},buffer:{name:"Buffer",url:"http://bufferapp.com/add?text={TEXT}&url={URL}",width:890,height:532,background:"#242424",color:"#fff",fetch:"https://api.bufferapp.com/1/links/shares.json?url={URL}",parse:function(e){return parseInt(e.shares)},priority:89},delicious:{name:"Delicious",url:"http://del.icio.us/post?url={URL}&title={TEXT}&notes={DESC}",width:550,height:588,background:"#3399ff",color:"#fff",priority:85},digg:{name:"Digg",url:"http://digg.com/submit?url={URL}&title={TEXT}",width:1080,height:670,background:"#0093CC",color:"#fff",priority:86},diigo:{name:"Diigo",url:"https://www.diigo.com/post?url={URL}&title={TEXT}&description={DESC}",width:625,height:660,background:"#4DA2E4",color:"#fff"},diigolet:{name:"Diigolet",width:600,height:500,background:"#4DA2E4",color:"#fff",javascript:function(){s=document.createElement("script"),s.type="text/javascript",s.src="https://www.diigo.com/javascripts/webtoolbar/diigolet_b_h_b.js",document.body.appendChild(s)}},email:{name:"Email",url:"mailto:?subject={TEXT}&body={DESC}%20{URL}{PROMO}",width:600,height:500,background:"#aaa",color:"#fff",priority:99},evernote:{name:"Evernote",url:"http://www.evernote.com/clip.action?url={URL}&title={TEXT}",width:960,height:533,background:"#6fb536",color:"#fff",priority:85},facebook:{name:"Facebook",url:"http://www.facebook.com/share.php?u={URL}",width:600,height:600,background:"#3b5998",color:"#fff",fetch:"//api.facebook.com/method/links.getStats?urls={URL}&format=json",parse:function(e){return parseInt(e[0].share_count)},priority:100},facebooklike:{name:"Facebook Like",url:"https://sumome.com/apps/share/facebook-like?href={URL}",width:600,height:300,background:"#5a739d",color:"#fff",fetch:"//api.facebook.com/method/links.getStats?urls={URL}&format=json",parse:function(e){return parseInt(e[0].like_count)},priority:95},facebooksend:{name:"Facebook Send",url:"https://www.facebook.com/dialog/send?app_id=859406404089021&link={URL}&redirect_uri=https%3a%2f%2fsumome.com%2fapps%2fshare%2fthanks&display=popup",width:600,height:500,background:"#3b5998",color:"#fff"},fancy:{name:"Fancy",width:600,height:500,background:"#494E57",color:"#fff",javascript:function(){thefancy_username="";var e="thefancy_tagger_bookmarklet_helper_js",t=document.getElementById(e),n=!0;if(t){var r=window;try{r.thefancy_bookmarklet?(r.thefancy_bookmarklet.tagger.cleanListeners(),t.parentNode.removeChild(t)):n=!1}catch(i){n=!1}}n&&(_my_script=document.createElement("SCRIPT"),_my_script.type="text/javascript",_my_script.id=e,_my_script.src=location.protocol+"//fancy.com/bookmarklet/fancy_tagger.js?x="+Math.random(),document.getElementsByTagName("head")[0].appendChild(_my_script))}},flipboard:{name:"Flipboard",url:"https://share.flipboard.com/bookmarklet/popout?v=2&title={TEXT}&url={URL}",width:600,height:500,background:"#CC0713",color:"#fff"},friendfeed:{name:"FriendFeed",url:"http://www.friendfeed.com/share?url={URL}&title={TEXT}",width:800,height:550,background:"#87a9d9",color:"#fff"},googlebookmarks:{name:"Google Bookmarks",url:"https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk={URL}&title={TEXT}&annotation={DESC}",width:600,height:500,background:"#4A8CF6",color:"#fff"},googlemail:{name:"Gmail",url:"https://mail.google.com/mail/u/0/?view=cm&fs=1&to&su={TEXT}&body={URL}&ui=2&tf=1",width:600,height:500,background:"#E04C40",color:"#fff"},googleplus:{name:"Google+",url:"https://plus.google.com/share?url={URL}",width:512,height:432,background:"#dd4b39",color:"#fff",method:"googleplus",fetch:"https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",parse:function(e){return parseInt(e.result.metadata.globalCounts.count)},priority:96},hootsuite:{name:"Hootsuite",url:"https://hootsuite.com/hootlet/load?address={URL}&title={TEXT}",width:750,height:650,background:"#000",color:"#fff"},houzz:{name:"Houzz",width:600,height:500,background:"#7AC143",color:"#fff",javascript:function(){function e(e,t,n){var r=e.indexOf("?"),i=e.indexOf("#");return r==e.length-1&&(e=e.substring(0,r),r=-1),(i>0?e.substring(0,i):e)+(r>0?"&"+t+"="+n:"?"+t+"="+n)+(i>0?e.substring(i):"")}var t=document.createElement("link");t.rel="stylesheet",t.href=e("//www.houzz.com/res/2125/css/style?f=clipper","cb",Math.floor(Math.random()*1e6)),document.getElementsByTagName("head")[0].appendChild(t);var n=document.createElement("script");n.type="text/javascript",n.src=e("//www.houzz.com/js/script?f=clipper&v=2125&s=101&l=en-US&d=1&m=1","cb",Math.floor(Math.random()*1e6)),document.body.appendChild(n)}},instapaper:{name:"Instapaper",url:"http://www.instapaper.com/hello2?url={URL}&title={TEXT}&description={DESC}",width:475,height:200,background:"#464646",color:"#000"},kaboodle:{name:"Kaboodle",width:600,height:500,background:"#B9212A",color:"#fff",javascript:function(){var e="0.3",t=document,n;try{n=t.standardCreateElement("script")}catch(r){}typeof n!="object"&&(n=t.createElement("script"));try{n.type="text/javascript",n.src="http://www.kaboodle.com/zg/g.js",n.id="c_grab_js",t.getElementsByTagName("head")[0].appendChild(n)}catch(r){window.location="http://www.kaboodle.com/za/selectpage?p_pop=false&pa=url&u="+window.location}}},kik:{name:"Kik",url:"http://share-api.kik.com/share.do?url={URL}&title={TEXT}",width:600,height:550,background:"#8CC04F",color:"#fff"},lineapp:{name:"Line",url:"http://line.me/R/msg/text/?{TEXT}+-+{URL}",width:600,height:500,background:"#01C312",color:"#fff"},linkedin:{name:"LinkedIn",url:"http://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TEXT}&summary={DESC}",width:615,height:495,background:"#007bb6",color:"#fff",fetch:"//www.linkedin.com/countserv/count/share?format=jsonp&url={URL}",parse:function(e){return parseInt(e.count)},priority:91},meneame:{name:"Menéame",url:"https://www.meneame.net/submit.php?url={URL}",width:600,height:500,background:"#FC6320",color:"#fff"},microsoftonenote:{name:"Microsoft OneNote",url:"https://www.onenote.com/clipper/save?sourceUrl={URL}&title={TEXT}&notes={DESC}",width:800,height:660,background:"#80397B",color:"#fff"},misterwong:{name:"Mister Wong",url:"http://www.mister-wong.com/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongcn:{name:"Mister Wong CN",url:"http://www.mister-wong.cn/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwonges:{name:"Mister Wong ES",url:"http://www.mister-wong.es/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongfr:{name:"Mister Wong FR",url:"http://www.mister-wong.fr/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongru:{name:"Mister Wong RU",url:"http://www.mister-wong.RU/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},newsvine:{name:"Newsvine",url:"http://www.newsvine.com/_tools/seed&save?u={URL}&h={TEXT}",width:500,height:700,background:"#11660C",color:"#fff"},odnoklassniki:{name:"Odnoklassniki",url:"http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl={URL}",width:540,height:395,background:"#F38230",color:"#fff"},outlook:{name:"Outlook",url:"https://mail.live.com/secure/start?action=compose&to=&subject={TEXT}&body={URL}",width:600,height:500,background:"#1172C6",color:"#fff"},pinboardin:{name:"Pinboard",url:"https://pinboard.in/add?next=same&url={URL}&description={DESC}&title={TEXT}",width:600,height:500,background:"#214CF4",color:"#fff"},pinterest:{name:"Pinterest",url:"http://pinterest.com/pin/create/button/?url={URL}&description={TEXT}&media={IMAGE}",width:765,height:320,background:"#cb2027",color:"#fff",fetch:"//widgets.pinterest.com/v1/urls/count.json?callback=?&source=6&url={URL}",parse:function(e){return parseInt(e.count)},javascript:function(e,t,n,r,i){var s=function(e,t,n,r,i,s,o){var u={k:"PIN_"+(new Date).getTime(),cdn:{"https:":"https://a248.e.akamai.net/passets.pinterest.com.s3.amazonaws.com","http:":"http://passets-cdn.pinterest.com"},embed:"//pinterest.com/embed/?",pin:"pinterest.com/pin/create/bookmarklet/",minImgSize:80,maxCheckCount:20,thumbCellSize:200,check:o||["meta","iframe","embed","object","img","video","a"],checkHidden:typeof i!="undefined"?i:!1,parentElement:s||document,prependText:n||"",appendText:r||"",via:{og:{tagName:"meta",property:"property",content:"content",field:{"og:type":"pId","og:url":"pUrl","og:image":"pImg"}}},seek:{etsy:{id:"etsymarketplace:item",via:{tagName:"meta",property:"property",content:"content",field:{"og:title":"pTitle","og:type":"pId","og:url":"pUrl","og:image":"pImg","etsymarketplace:price_value":"pPrice","etsymarketplace:currency_symbol":"pCurrencySymbol"}},fixImg:{find:/_570xN/,replace:"_fullxfull"},fixTitle:{suffix:". %s%, via Etsy."},checkNonCanonicalImages:!0},fivehundredpx:{id:"five_hundred_pixels:photo",via:"og",fixImg:{find:/\/3.jpg/,replace:"/4.jpg"},fixTitle:{find:/^500px \/ Photo /,replace:"",suffix:", via 500px."}},flickr:{via:{tagName:"link",property:"rel",content:"href",field:{canonical:"pUrl",image_src:"pImg"}},fixImg:{find:/_m.jpg/,replace:"_z.jpg"},fixTitle:{find:/ \| Flickr(.*)$/,replace:"",suffix:", via Flickr."}},kickstarter:{id:"kickstarter:project",via:"og",media:"video",fixTitle:{find:/ \u2014 Kickstarter$/,replace:"",suffix:", via Kickstarter."}},slideshare:{id:"article",via:"og",media:"video"},soundcloud:{id:"soundcloud:sound",via:"og",media:"video",fixTitle:{find:/ on SoundCloud(.*)$/,replace:"",suffix:", via SoundCloud."}},youtube:{id:"video",via:"og",fixTitle:{find:/ - YouTube$/,replace:"",suffix:", via YouTube."}}},stumbleFrame:["tb-stumble-frame","stumbleFrame"],tag:{img:{flickr:{att:"src",match:[/staticflickr.com/,/static.flickr.com/]},fivehundredpx:{att:"src",match:[/pcdn\.500px\.net/]},behance:{att:"src",match:[/^http:\/\/behance\.vo\.llnwd\.net/]},netflix:{att:"src",match:[/^http:\/\/cdn-?[0-9]\.nflximg\.com/,/^http?s:\/\/netflix\.hs\.llnwd\.net/]},youtube:{att:"src",match:[/ytimg.com\/vi/,/img.youtube.com\/vi/]}},video:{youtube:{att:"src",match:[/videoplayback/]}},embed:{youtube:{att:"src",match:[/^http:\/\/s\.ytimg\.com\/yt/,/^http:\/\/.*?\.?youtube-nocookie\.com\/v/]}},iframe:{youtube:{att:"src",match:[/^http:\/\/www\.youtube\.com\/embed\/([a-zA-Z0-9\-_]+)/]},vimeo:{att:"src",match:[/^http?s:\/\/vimeo.com\/(\d+)/,/^http:\/\/player\.vimeo\.com\/video\/(\d+)/]}},object:{youtube:{att:"data",match:[/^http:\/\/.*?\.?youtube-nocookie\.com\/v/]}}},msg:{check:"",cancelTitle:"Cancel",grayOut:"Sorry, cannot pin this image.",noPinIncompletePage:"Sorry, can't pin from non-HTML pages. If you're trying to upload an image, please visit pinterest.com.",bustFrame:"We need to hide the StumbleUpon toolbar to Pin from this page.  After pinning, you can use the back button in your browser to return to StumbleUpon. Click OK to continue or Cancel to stay here.",noPin:"Sorry, pinning is not allowed from this domain. Please contact the site operator if you have any questions.",privateDomain:"Sorry, can't pin directly from %privateDomain%.",notFound:"Sorry, couldn't find any pinnable images or video on this page.",installed:"The bookmarklet is installed! Now you can click your Pin It button to pin images as you browse sites around the web."},pop:"status=no,resizable=yes,scrollbars=yes,personalbar=no,directories=no,location=no,toolbar=no,menubar=no,width=632,height=270,left=0,top=0",rules:["#_shim {z-index:9998675309; position: absolute; background: transparent; top:0; right:0; bottom:0; left:0; width: 100%; border: 0;}","#_bg {z-index:9998675310; position: absolute; top:0; right:0; bottom:0; left:0; background-color:#f2f2f2; opacity:.95; width: 100%; }","#_bd {z-index:9998675311; position: absolute; text-align: center; width: 100%; top: 0; left: 0; right: 0; font:16px hevetica neue,arial,san-serif; }","#_bd #_hd { z-index:9998675312; -moz-box-shadow: 0 1px 2px #aaa; -webkit-box-shadow: 0 1px 2px #aaa; box-shadow: 0 1px 2px #aaa; position: fixed; *position:absolute; width:100%; top: 0; left: 0; right: 0; height: 45px; line-height: 45px; font-size: 14px; font-weight: bold; display: block; margin: 0; background: #fbf7f7; border-bottom: 1px solid #aaa; }","#_bd #_hd a#_x { display: block; cursor: pointer; color: #524D4D; line-height: 45px; text-shadow: 0 1px #fff; float: right; text-align: center; width: 100px; height: 45px; border-left: 1px solid #aaa; }","#_bd #_hd a#_x:hover { color: #524D4D; background: #e1dfdf; text-decoration: none; }","#_bd #_hd a#_x:active { color: #fff; background: #cb2027; text-decoration: none; text-shadow:none;}","#_bd #_hd #_logo {height: 43px; width: 100px; display: inline-block; margin-right: -100px; background: transparent url(_cdn/images/LogoRed.png) 50% 50% no-repeat; border: none;}","#_bd #_spacer { display: block; height: 50px; }","#_bd span._pinContainer { height:200px; width:200px; display:inline-block; background:#fff; position:relative; -moz-box-shadow:0 0  2px #555; -webkit-box-shadow: 0 0  2px #555; box-shadow: 0 0  2px #555; margin: 10px; }","#_bd span._pinContainer { zoom:1; *border: 1px solid #aaa; }","#_bd span._pinContainer img { margin:0; padding:0; border:none; }","#_bd span._pinContainer span.img, #_bd span._pinContainer span._play { position: absolute; top: 0; left: 0; height:200px; width:200px; overflow:hidden; }","#_bd span._pinContainer span._play { background: transparent url(_cdn/images/bm/play.png) 50% 50% no-repeat; }","#_bd span._pinContainer cite, #_bd span._pinContainer cite span { position: absolute; bottom: 0; left: 0; right: 0; width: 200px; color: #000; height: 22px; line-height: 24px; font-size: 10px; font-style: normal; text-align: center; overflow: hidden; }","#_bd span._pinContainer cite span._mask { background:#eee; opacity:.75; *filter:alpha(opacity=75); }","#_bd span._pinContainer cite span._behance { background: transparent url(_cdn/images/attrib/behance.png) 180px 3px no-repeat; }","#_bd span._pinContainer cite span._flickr { background: transparent url(_cdn/images/attrib/flickr.png) 182px 3px no-repeat; }","#_bd span._pinContainer cite span._fivehundredpx { background: transparent url(_cdn/images/attrib/fivehundredpx.png) 180px 3px no-repeat; }","#_bd span._pinContainer cite span._kickstarter { background: transparent url(_cdn/images/attrib/kickstarter.png) 182px 3px no-repeat; }","#_bd span._pinContainer cite span._slideshare { background: transparent url(_cdn/images/attrib/slideshare.png) 182px 3px no-repeat; }","#_bd span._pinContainer cite span._soundcloud { background: transparent url(_cdn/images/attrib/soundcloud.png) 182px 3px no-repeat; }","#_bd span._pinContainer cite span._vimeo { background: transparent url(_cdn/images/attrib/vimeo.png) 180px 3px no-repeat; }","#_bd span._pinContainer cite span._vimeo_s { background: transparent url(_cdn/images/attrib/vimeo.png) 180px 3px no-repeat; }","#_bd span._pinContainer cite span._youtube { background: transparent url(_cdn/images/attrib/youtube.png) 180px 3px no-repeat; }","#_bd span._pinContainer a { text-decoration:none; background:transparent url(_cdn/images/bm/button.png) 60px 300px no-repeat; cursor:pointer; position:absolute; top:0; left:0; height:200px; width:200px; }","#_bd span._pinContainer a { -moz-transition-property: background-color; -moz-transition-duration: .25s; -webkit-transition-property: background-color; -webkit-transition-duration: .25s; transition-property: background-color; transition-duration: .25s; }","#_bd span._pinContainer a:hover { background-position: 60px 80px; background-color:rgba(0, 0, 0, 0.5); }","#_bd span._pinContainer a._hideMe { background: rgba(128, 128, 128, .5); *background: #aaa; *filter:alpha(opacity=75); line-height: 200px; font-size: 10px; color: #fff; text-align: center; font-weight: normal!important; }"]},a=window[u.k]={w:window,d:document,n:navigator,a:u,s:{},f:function(){return{callback:[],kill:function(e){typeof e=="string"&&(e=a.d.getElementById(e)),e&&e.parentNode&&e.parentNode.removeChild(e)},get:function(e,t){var n=null;return n=typeof e[t]=="string"?e[t]:e.getAttribute(t)},set:function(e,t,n){typeof e[t]=="string"?e[t]=n:e.setAttribute(t,n)},make:function(e){var t=!1,n,r;for(n in e)if(e[n].hasOwnProperty){t=a.d.createElement(n);for(r in e[n])e[n][r].hasOwnProperty&&typeof e[n][r]=="string"&&a.f.set(t,r,e[n][r]);break}return t},listen:function(e,t,n){typeof a.w.addEventListener!="undefined"?e.addEventListener(t,n,!1):typeof a.w.attachEvent!="undefined"&&e.attachEvent("on"+t,n)},getSelection:function(){return(""+(a.w.getSelection?a.w.getSelection():a.d.getSelection?a.d.getSelection():a.d.selection.createRange().text)).replace(/(^\s+|\s+$)/g,"")},pin:function(n){var r=a.a.pin+"?",i="false",s=a.f.get(n,"pinImg"),o=t||(a.f.get(n,"pinUrl")||a.d.URL).split("#")[0],u=a.v.selectedText||a.f.get(n,"pinDesc")||a.d.title;u=a.a.prependText+u+a.a.appendText,n.rel==="video"&&(i="true"),r=r+"media="+encodeURIComponent(s),r=r+"&url="+encodeURIComponent(o),r=r+"&title="+encodeURIComponent(a.d.title.substr(0,500)),r=r+"&is_video="+i,r=r+"&description="+encodeURIComponent(u.substr(0,500)),a.v.inlineHandler&&(r=r+"&via="+encodeURIComponent(a.d.URL));var f=a.w.open("http://"+r,"pin"+(new Date).getTime(),a.a.pop);if(e)var l=0,c=setInterval(function(){if(f.closed||l++>120)clearInterval(c),e()},500)},close:function(e){a.s.bg&&(a.d.b.removeChild(a.s.shim),a.d.b.removeChild(a.s.bg),a.d.b.removeChild(a.s.bd)),a.w.hazPinningNow=!1,e&&a.w.alert(e),a.v.hazGoodUrl=!1,a.w.scroll(0,a.v.saveScrollTop)},click:function(e){e=e||a.w.event;var t=null;if(t=e.target?e.target.nodeType===3?e.target.parentNode:e.target:e.srcElement)t===a.s.x?a.f.close():t.className!==a.a.k+"_hideMe"&&t.className===a.a.k+"_pinThis"&&(a.f.pin(t),a.w.setTimeout(function(){a.f.close()},10))},keydown:function(e){((e||a.w.event).keyCode||null)===27&&a.f.close()},behavior:function(){a.f.listen(a.s.bd,"click",a.f.click),a.f.listen(a.d,"keydown",a.f.keydown)},presentation:function(){var e=a.f.make({STYLE:{type:"text/css"}}),t=a.a.cdn[a.w.location.protocol]||a.a.cdn["http:"],n=a.a.rules.join("\n");n=n.replace(/#_/g,"#"+u.k+"_"),n=n.replace(/\._/g,"."+u.k+"_"),n=n.replace(/_cdn/g,t),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(a.d.createTextNode(n)),a.d.h.appendChild(e)},addThumb:function(e,t,n){(n=e.getElementsByTagName(n)[0])?e.insertBefore(t,n):e.appendChild(t)},thumb:function(e){if(e.src){e.media||(e.media="image");var t=a.a.k+"_thumb_"+e.src,n=a.f.make({SPAN:{className:a.a.k+"_pinContainer"}}),r=a.f.make({A:{className:a.a.k+"_pinThis",rel:e.media,href:"javascript:void(0);"}}),i=a.f.make({SPAN:{className:"img"}}),s=new Image;a.f.set(s,"nopin","nopin"),e.page&&a.f.set(r,"pinUrl",e.page),(a.v.canonicalTitle||e.title)&&a.f.set(r,"pinDesc",a.v.canonicalTitle||e.title),e.desc&&a.f.set(r,"pinDesc",e.desc),s.style.visibility="hidden",s.onload=function(){var e=this.width,t=this.height;t===e&&(this.width=this.height=a.a.thumbCellSize),t>e&&(this.width=a.a.thumbCellSize,this.height=a.a.thumbCellSize*(t/e),this.style.marginTop=0-(this.height-a.a.thumbCellSize)/2+"px"),t<e&&(this.height=a.a.thumbCellSize,this.width=a.a.thumbCellSize*(e/t),this.style.marginLeft=0-(this.width-a.a.thumbCellSize)/2+"px"),this.style.visibility=""},s.src=e.thumb?e.thumb:e.src,a.f.set(r,"pinImg",e.src),e.extended&&(s.className="extended"),i.appendChild(s),n.appendChild(i),e.media!=="image"&&n.appendChild(a.f.make({SPAN:{className:a.a.k+"_play"}})),i=a.f.make({CITE:{}}),i.appendChild(a.f.make({span:{className:a.a.k+"_mask"}})),s=e.height+" x "+e.width,e.duration&&(s=e.duration%60,s<10&&(s="0"+s),s=~~(e.duration/60)+":"+s),e.total_slides&&(s=e.total_slides+" slides"),s=a.f.make({span:{innerHTML:s}}),e.provider&&(s.className=a.a.k+"_"+e.provider),i.appendChild(s),n.appendChild(i),n.appendChild(r),r=!1;if(e.dupe){i=0;for(s=a.v.thumbed.length;i<s;i+=1)if(a.v.thumbed[i].id.indexOf(e.dupe)!==-1){r=a.v.thumbed[i].id;break}}r!==!1?(r=a.d.getElementById(r))?(r.parentNode.insertBefore(n,r),r.parentNode.removeChild(r)):e.page||e.media!=="image"?a.f.addThumb(a.s.embedContainer,n,"SPAN"):a.f.addThumb(a.s.imgContainer,n,"SPAN"):(a.s.imgContainer.appendChild(n),a.v.hazAtLeastOneGoodThumb+=1),(e=a.d.getElementById(t))&&e.parentNode.removeChild(e),n.id=t,a.f.set(n,"domain",t.split("/")[2]),a.v.thumbed.push(n)}},call:function(e,t){var n=a.f.callback.length,r=a.a.k+".f.callback["+n+"]",i=a.d.createElement("SCRIPT");a.f.callback[n]=function(e){t(e,n),a.v.awaitingCallbacks-=1,a.f.kill(r)},i.id=r,i.src=e+"&callback="+r,i.type="text/javascript",i.charset="utf-8",a.v.firstScript.parentNode.insertBefore(i,a.v.firstScript),a.v.awaitingCallbacks+=1},ping:{checkDomain:function(e){var t,n;if(e&&e.disallowed_domains&&e.disallowed_domains.length){t=0;for(n=e.disallowed_domains.length;t<n;t+=1){if(e.disallowed_domains[t]===a.w.location.host){a.f.close(a.a.msg.noPin);return}a.v.badDomain[e.disallowed_domains[t]]=!0}t=0;for(n=a.v.thumbed.length;t<n;t+=1)a.v.badDomain[a.f.get(a.v.thumbed[t],"domain")]===!0&&a.f.unThumb(a.v.thumbed[t].id.split("thumb_").pop())}},info:function(e){if(e)if(e.err)a.f.unThumb(e.id);else if(e.reply&&e.reply.img&&e.reply.img.src){var t="";e.reply.page&&(t=e.reply.page),e.reply.nopin&&e.reply.nopin===1?a.f.unThumb(e.id):(a.v.scragAllThumbs===!0&&(a.s.embedContainer.innerHTML="",a.s.imgContainer.innerHTML=""),a.f.thumb({provider:e.src,src:e.reply.img.src,height:e.reply.img.height,width:e.reply.img.width,media:e.reply.media,desc:e.reply.description,page:t,duration:e.reply.duration||0,total_slides:e.reply.total_slides||0,dupe:e.id}))}}},unThumb:function(e){e=a.a.k+"_thumb_"+e;var t=a.d.getElementById(e);if(t){if(a.v.canonicalImage&&a.a.k+"_thumb_"+a.v.canonicalImage===e)return;e=t.getElementsByTagName("A")[0],e.className=a.a.k+"_hideMe",e.innerHTML=a.a.msg.grayOut,a.v.hazAtLeastOneGoodThumb-=1}},getExtendedInfo:function(e){a.v.hazCalledForInfo[e]||(a.v.hazCalledForInfo[e]=!0,a.f.call(a.a.embed+e,a.f.ping.info))},getId:function(e){for(var t,n=e.u.split("?")[0].split("#")[0].split("/");!t;)t=n.pop();return e.r&&(t=parseInt(t,e.r)),encodeURIComponent(t)},seekCanonical:function(e){var t=a.a.seek[e],n=null,r=null,i,s,o,u,f,l={pPrice:"",pCurrencySymbol:""};if(!t||!t.via)return null;typeof t.via=="string"&&a.a.via[t.via]?n=a.a.via[t.via]:typeof t.via=="object"&&(n=t.via),i=a.v[n.tagName]||a.d.getElementsByTagName(n.tagName),f=i.length;for(u=0;u<f;u+=1)s=a.f.get(i[u],n.property),(o=a.f.get(i[u],n.content))&&s&&n.field[s]&&(l[n.field[s]]=o);return l.pId&&l.pId!==t.id?null:l.pUrl&&l.pImg?(r=new Image,r.onload=function(){a.f.thumb({media:t.media||"image",provider:e,src:this.src,title:this.title,height:this.height,width:this.width}),a.v.tag.push(r)},a.v.canonicalTitle=l.pTitle||a.d.title,t.fixTitle&&a.v.canonicalTitle.match(t.fixTitle.find)&&(a.v.canonicalTitle=a.v.canonicalTitle.replace(t.fixTitle.find,t.fixTitle.replace),t.fixTitle.suffix&&(a.v.canonicalTitle+=t.fixTitle.suffix)),a.v.canonicalTitle=a.v.canonicalTitle.replace(/%s%/,l.pCurrencySymbol+l.pPrice),r.title=a.v.canonicalTitle,r.setAttribute("page",l.pUrl),t.fixImg&&l.pImg.match(t.fixImg.find)&&(l.pImg=l.pImg.replace(t.fixImg.find,t.fixImg.replace)),t.checkNonCanonicalImages&&(a.v.checkNonCanonicalImages=!0),a.v.canonicalImage=r.src=l.pImg,r):null},hazSite:{flickr:{img:function(e){e.src&&(e.src=e.src.split("?")[0],a.f.getExtendedInfo("src=flickr&id="+encodeURIComponent(e.src)))}},fivehundredpx:{img:function(e){e.src&&(e.src=e.src.split("?")[0],a.f.getExtendedInfo("src=fivehundredpx&id="+encodeURIComponent(e.src)))}},behance:{img:function(e){e.src&&(e.src=e.src.split("?")[0],a.f.getExtendedInfo("src=behance&id="+encodeURIComponent(e.src)))}},netflix:{img:function(e){if(e=e.src.split("?")[0].split("#")[0].split("/").pop())id=parseInt(e.split(".")[0]),id>1e3&&a.v.inlineHandler&&a.v.inlineHandler==="netflix"&&a.f.getExtendedInfo("src=netflix&id="+id)}},youtube:{img:function(e){e=e.src.split("?")[0].split("#")[0].split("/"),e.pop(),(id=e.pop())&&a.f.getExtendedInfo("src=youtube&id="+id)},iframe:function(e){(e=a.f.getId({u:e.src}))&&a.f.getExtendedInfo("src=youtube&id="+e)},video:function(e){(e=a.f.get(e,"data-youtube-id"))&&a.f.getExtendedInfo("src=youtube&id="+e)},embed:function(e){var t=a.f.get(e,"flashvars"),n="";if(t){if(n=t.split("video_id=")[1])n=n.split("&")[0];n=encodeURIComponent(n)}else n=a.f.getId({u:e.src});n&&a.f.getExtendedInfo("src=youtube&id="+n)},object:function(e){e=a.f.get(e,"data");var t="";e&&(t=a.f.getId({u:e}))&&a.f.getExtendedInfo("src=youtube&id="+t)}},vimeo:{iframe:function(e){e=a.f.getId({u:e.src,r:10}),e>1e3&&a.f.getExtendedInfo("src=vimeo&id="+e)}}},parse:function(e,t){return e=e.split(t),e[1]?e[1].split("&")[0]:""},handleInline:{google:function(e){if(e){var t,n=0,r=0,i=a.f.get(e,"src");i&&(r=e.parentNode,r.tagName==="A"&&r.href&&(e=a.f.parse(r.href,"&imgrefurl="),t=a.f.parse(r.href,"&imgurl="),n=parseInt(a.f.parse(r.href,"&w=")),r=parseInt(a.f.parse(r.href,"&h=")),t&&i&&e&&r>a.a.minImgSize&&n>a.a.minImgSize&&a.f.thumb({thumb:i,src:t,page:e,height:r,width:n}),a.v.checkThisDomain[t.split("/")[2]]=!0))}},tumblr:function(e){var t=[];t=null,t="";if(e.src){for(t=e.parentNode;t.tagName!=="LI"&&t!==a.d.b;)t=t.parentNode;t.tagName==="LI"&&t.parentNode.id==="posts"&&(t=t.getElementsByTagName("A"),(t=t[t.length-1])&&t.href&&a.f.thumb({src:e.src,page:t.href,height:e.height,width:e.width}))}}},hazTag:{img:function(e){a.v.inlineHandler&&typeof a.f.handleInline[a.v.inlineHandler]=="function"?a.f.handleInline[a.v.inlineHandler](e):e.src.match(/^data/)||(e.height&&e.height>0&&e.width&&e.width>0?a.f.checkImg(e,e.height,e.width):a.a.checkHidden&&(d=new Image,d.onload=function(){a.f.checkImg(e,this.height,this.width)},d.src=e.src))}},checkImg:function(e,t,n){if(t>a.a.minImgSize&&n>a.a.minImgSize){a.f.thumb({src:e.src,height:t,width:n,title:e.title||e.alt});if(e.parentNode.tagName==="A"&&e.parentNode.href){var r=e.parentNode,i=r.href.split(".").pop().split("?")[0].split("#")[0];if(i==="gif"||i==="jpg"||i==="jpeg"||i==="png")i=new Image,i.onload=function(){a.f.thumb({src:this.src,height:this.height,width:this.width,title:this.title,dupe:this.getAttribute("dupe")})},i.setAttribute("dupe",e.src),i.title=r.title||r.alt||e.title||e.alt,i.src=r.href}}},checkTags:function(){var e,t,n,r,i,s,o,u,f;e=0;for(t=a.a.check.length;e<t;e+=1){i=a.a.parentElement.getElementsByTagName(a.a.check[e]),n=0;for(r=i.length;n<r;n+=1)s=i[n],!a.f.get(s,"nopin")&&(a.a.checkHidden||a.f.isVisible(s))&&a.v.tag.push(s)}e=0;for(t=a.v.tag.length;e<t;e+=1){i=a.v.tag[e],s=i.tagName.toLowerCase();if(a.a.tag[s])for(o in a.a.tag[s])if(a.a.tag[s][o].hasOwnProperty){u=a.a.tag[s][o];if(f=a.f.get(i,u.att)){n=0;for(r=u.match.length;n<r;n+=1)f.match(u.match[n])&&a.f.hazSite[o][s](i)}}a.f.hazTag[s]&&a.f.hazTag[s](i)}},getHeight:function(){return Math.max(Math.max(a.d.b.scrollHeight,a.d.d.scrollHeight),Math.max(a.d.b.offsetHeight,a.d.d.offsetHeight),Math.max(a.d.b.clientHeight,a.d.d.clientHeight))},structure:function(){a.s.shim=a.f.make({IFRAME:{height:"100%",width:"100%",allowTransparency:!0,id:a.a.k+"_shim"}}),a.f.set(a.s.shim,"nopin","nopin"),a.d.b.appendChild(a.s.shim),a.s.bg=a.f.make({DIV:{id:a.a.k+"_bg"}}),a.d.b.appendChild(a.s.bg),a.s.bd=a.f.make({DIV:{id:a.a.k+"_bd"}}),a.s.bd.appendChild(a.f.make({DIV:{id:a.a.k+"_spacer"}})),a.s.hd=a.f.make({DIV:{id:a.a.k+"_hd"}}),a.s.x=a.f.make({A:{id:a.a.k+"_x",innerHTML:a.a.msg.cancelTitle}}),a.s.hd.appendChild(a.s.x),a.s.hd.appendChild(a.f.make({SPAN:{id:a.a.k+"_logo"}})),a.s.bd.appendChild(a.s.hd),a.s.embedContainer=a.f.make({SPAN:{id:a.a.k+"_embedContainer"}}),a.s.bd.appendChild(a.s.embedContainer),a.s.imgContainer=a.f.make({SPAN:{id:a.a.k+"_imgContainer"}}),a.s.bd.appendChild(a.s.imgContainer),a.d.b.appendChild(a.s.bd);var e=a.f.getHeight();a.s.bd.offsetHeight<e&&(a.s.bd.style.height=e+"px",a.s.bg.style.height=e+"px",a.s.shim.style.height=e+"px"),a.w.scroll(0,0)},checkPage:function(){return(!a.v.canonicalImage||a.v.checkNonCanonicalImages)&&a.f.checkTags(),a.v.hazGoodUrl===!1?!1:!0},isVisible:function(e){if(e==document)return!0;if(!e)return!1;if(!e.parentNode)return!1;if(e.style){if(e.style.display=="none")return!1;if(e.style.visibility=="hidden")return!1}if(window.getComputedStyle){var t=window.getComputedStyle(e,"");if(t.display=="none")return!1;if(t.visibility=="hidden")return!1}var t=e.currentStyle;if(t){if(t["display"]=="none")return!1;if(t["visibility"]=="hidden")return!1}return a.f.isVisible(e.parentNode)},init:function(){a.d.d=a.d.documentElement,a.d.b=a.d.getElementsByTagName("BODY")[0],a.d.h=a.d.getElementsByTagName("HEAD")[0];if(!a.d.b||!a.d.h)a.f.close(a.a.msg.noPinIncompletePage);else if(a.w.hazPinningNow!==!0){a.w.hazPinningNow=!0;var e=a.n.userAgent;a.v={saveScrollTop:a.w.pageYOffset,hazGoodUrl:!0,hazAtLeastOneGoodThumb:0,awaitingCallbacks:0,thumbed:[],hazIE:function(){return/msie/i.test(e)&&!/opera/i.test(e)}(),firstScript:a.d.getElementsByTagName("SCRIPT")[0],selectedText:a.f.getSelection(),hazCalledForInfo:{},checkThisDomain:{},checkDomainDone:{},badDomain:{},meta:a.d.getElementsByTagName("META"),tag:[],canonicalTitle:""},a.v.checkThisDomain[a.w.location.host]=!0,a.f.presentation(),a.f.structure(),a.f.checkPage()&&a.v.hazGoodUrl===!0&&(a.f.behavior(),a.f.callback.length>1?a.v.waitForCallbacks=a.w.setInterval(function(){a.v.awaitingCallbacks===0&&(a.v.hazAtLeastOneGoodThumb===0||a.v.tag.length===0)&&(a.w.clearInterval(a.v.waitForCallbacks),a.f.close(a.a.msg.notFound))},500):!a.v.canonicalImage&&(a.v.hazAtLeastOneGoodThumb===0||a.v.tag.length===0)&&a.f.close(a.a.msg.notFound))}}}}()};a.f.init()};s(i,e,null,null,!0)},priority:97},plurk:{name:"Plurk",url:"http://www.plurk.com/m?content={URL}&qualifier=shares",width:600,height:500,background:"#CF682E",color:"#fff"},pocket:{name:"Pocket",url:"https://getpocket.com/save?url={URL}&title={TEXT}",width:520,height:315,background:"#EE4056",color:"#fff"},printerfriendly:{name:"Printer Friendly",background:"#999",foreground:"#fff",javascript:function(){e(document).printPreview()}},reddit:{name:"Reddit",url:"http://reddit.com/submit?url={URL}&text={TEXT}",width:860,height:500,background:"#ff5700",color:"#fff",method:"json",fetch:"//buttons.reddit.com/button_info.json?url={URL}",parse:function(e){return"data"in e&&"children"in e.data&&e.data.children.length>0?parseInt(e.data.children[0].data.score):0},priority:92},slashdot:{name:"Slashdot",width:600,height:500,background:"#1A5C59",color:"#fff",javascript:function(){var e=document.body;e&&!document.xmlVersion&&(void (z=document.createElement("script")),void (z.src="https://images.slashdot.org/slashdot-submission.ssl.js"),void e.appendChild(z))}},sms:{name:"SMS",url:"sms:?body={TEXT}%0A%0D{URL}",width:600,height:500,background:"#0076ff",color:"#fff",priority:93},soupio:{name:"Soup",url:"",width:450,height:400,background:"#C80813",color:"#fff",javascript:function(){var e=["body","frameset","head"],t=document.location.protocol+"//www.soup.io/",n="soup_bookmarklet_"+Math.floor(Math.random()*1e5);window.open(t+"bookmarklet-loading.html",n,"toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=400");try{var r=document.createElement("script");r.setAttribute("src",t+"bookmarklet/js/"+n+"/5");for(var i=0;i<e.length;i){var s=document.getElementsByTagName(e[i])[0];if(s){s.appendChild(r);break}}}catch(s){}}},stumbleupon:{name:"StumbleUpon",url:"http://www.stumbleupon.com/submit?url={URL}&title={TEXT}",width:480,height:412,background:"#eb4823",color:"#fff",priority:90,method:"jsonproxy",fetch:"//www.stumbleupon.com/services/1.01/badge.getinfo?url={URL}",parse:function(e){return parseInt(e.result.views)}},sumome:{name:"SumoMe",url:"",width:600,height:500,background:"#0f52ba",color:"#fff"},tapiture:{name:"Tapiture",url:"http://tapiture.com/widget/tap?url={IMAGE}&title={TEXT}&page_url={URL}&type=image&description=&alt={DESC}&img_title=&img_width=&img_height=",width:600,height:500,background:"#325892",color:"#fff"},techmeme:{name:"Techmeme",filterText:function(e){var t=function(e,t){var n,r;n=e.split("");if(n.length>t){for(r=n.length-1;r>-1;--r)if(r>t)n.length=r;else if(" "===n[r]){n.length=r;break}n.push("...")}return n.join("")};return t(e,117)},url:"https://twitter.com/intent/tweet?url={URL}&text=tip+@techmeme:+{TEXT}",width:600,height:445,background:"#1E4B62",color:"#fff"},tinyurl:{name:"TinyURL",url:"http://tinyurl.com/create.php?url={URL}",width:800,height:660,background:"#009",color:"#fff"},tumblr:{name:"Tumblr",url:"http://www.tumblr.com/share?v=3&u={URL}&t={TEXT}",width:450,height:450,background:"#2c4762",color:"#fff",priority:88},twitter:{name:"Twitter",filterText:function(e){var t=function(e,t){var n,r;n=e.split("");if(n.length>t){for(r=n.length-1;r>-1;--r)if(r>t)n.length=r;else if(" "===n[r]){n.length=r;break}n.push("...")}return n.join("")};return t(e,117)},url:"https://twitter.com/intent/tweet?url={URL}&text={TEXT}&via={VIA}&related={RELATED}",width:600,height:445,background:"#00aced",color:"#fff",params:{via:{label:"Twitter @username",desc:"Twitter screen name to append to tweets with the via attribute. Do not include @ symbol."},related:{label:"Suggested accounts",desc:"Comma separated list of Twitter accounts to suggest following. Do not include @ symbol or spaces."}},fetch:"//urls.api.twitter.com/1/urls/count.json?url={URL}",parse:function(e){return parseInt(e.count)},priority:98},typepadpost:{name:"Typepad",url:"http://www.typepad.com/services/quickpost/post?v=2&qp_show=ac&qp_title={TEXT}&qp_href={URL}&qp_text={DESC}",width:585,height:735,background:"#7A9B5D",color:"#fff"},viadeo:{name:"Viadeo",url:"http://www.viadeo.com/shareit/share/?url={URL}",width:600,height:600,background:"#E46123",color:"#fff"},vk:{name:"VKontakte",url:"http://vk.com/share.php?url={URL}&title={TEXT}",width:660,height:500,background:"#4D76A1",color:"#fff",fetch:"//vk.com/share.php?act=count&url={URL}",method:"jsonproxy",parse:function(e){return parseInt(e.data.match(/^VK\.Share\.count\(\d, (\d+)\);$/)[1])}},wanelo:{name:"Wanelo",width:600,height:500,background:"#518653",color:"#fff",javascript:function(){function r(){window.waneloBookmarklet()}if(!window.waneloBookmarklet){var e=encodeURIComponent(location.href),t=Math.floor(Math.random()*1e3),n=document.createElement("script");n.setAttribute("src","//wanelo.com/bookmarklet/3/setup?*="+t+"&url="+e),n.onload=r,n.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(n)}else r()}},weheartit:{name:"We Heart It",url:"http://weheartit.com/heart-it/new_entry?encoding=utf-8&popup=1&hearting_method=heart_it_button&image_url={IMAGE}&source_url={URL}",width:700,height:500,background:"#FD6B9C",color:"#fff"},whatsapp:{name:"WhatsApp",url:"whatsapp://send?text={TEXT}%20{URL}",width:600,height:500,background:"#1d9e11",color:"#fff",priority:94},wordpressblog:{name:"Wordpress Blog",url:"https://sumome.com/apps/share/wordpress?u={URL}&t={TEXT}&s={DESC}&i={IMAGE}",width:600,height:350,background:"#000",color:"#fff"},wykop:{name:"Wykop",url:"http://www.wykop.pl/dodaj/link/?url={URL}&title={TEXT}&desc={DESC}",width:600,height:500,background:"#4684AD",color:"#fff"},xing:{name:"XING",url:"https://www.xing.com/spi/shares/new?url={URL}",width:600,height:600,background:"#006567",color:"#fff"},yahoomail:{name:"Yahoo! Mail",url:"http://compose.mail.yahoo.com/?subject={TEXT}&body={URL}",width:1160,height:690,background:"#2E147B",color:"#fff"},yammer:{name:"Yammer",url:"https://www.yammer.com/messages/new?login=true&trk_event=yammer_share&status={TEXT} {URL}",width:600,height:350,background:"#1074C3",color:"#fff"},ychackernews:{name:"YC Hacker News",url:"https://news.ycombinator.com/submitlink?u={URL}&t={TEXT}",width:600,height:335,background:"#FC6620",color:"#fff"},yummly:{name:"Yummly",url:"http://www.yummly.com/urb/verify?url={URL}&title={TEXT}&image={IMAGE}",width:600,height:500,background:"#e0601f",color:"#fff",fetch:"//www.yummly.com/services/yum-count?url={URL}",method:"jsonproxy",parse:function(e){if("count"in e)return parseInt(e.count);if("error"in e)throw new Error(e.error);return 0},priority:87}},e.shareSortedKeys=Object.keys(e.shareServices);var t=function(t,n){var r="priority"in e.shareServices[t]?e.shareServices[t].priority:0,i="priority"in e.shareServices[n]?e.shareServices[n].priority:0,s=i-r;return s==0?t<n?-1:1:s};e.shareSortedKeys.sort(t),e.shareShortUrls={},e.share=function(t,n,r){var i=n.url||window.location.href.split("#")[0],s=n.text||e('meta[property="og:title"]').eq(0).attr("content")||e("title").eq(0).text()||document.title,r=r||null,o=e('meta[property="og:image"]').eq(0).attr("content")||e('link[rel="image_src"]').eq(0).attr("href")||"",u=n.pro||!1;if(o==""){var a=0,f=null;e("img").each(function(){var t=e(this).width(),n=e(this).height(),r=1;if(t&&n){t>=n?r=n/t:r=t/n;var i=t*n*r;i>a&&(a=i,f=e(this))}}),f!=null&&(o=f.get(0).src||"")}var t=t.toLowerCase();if(t in e.shareServices)if("javascript"in e.shareServices[t])if("shortenUrl"in n&&"shortener"in n&&n.shortenUrl&&t!="pinterest"){var l=n.shortener+":"+i;l in e.shareShortUrls?(i=e.shareShortUrls[l],e.shareServices[t].javascript(i,s,null,o,function(){r&&r(t,i)})):e.ajax({type:"POST",dataType:"json",url:n.sumoUrl+"/apps/share/shorten",data:{site_id:n.siteId,href:i},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(u){"success"in u&&u.success&&(e.shareShortUrls[l]=u.url,i=u.url,e.extend(n,u)),e.shareServices[t].javascript(i,s,null,o,function(){r&&r(t,i)})})}else e.shareServices[t].javascript(i,s,null,o,function(){r&&r(t,i)});else{var c=e.shareServices[t].url,h=e.shareServices[t].width,p=e.shareServices[t].height,d="sumomeShare-"+Math.random()*4294967296;if(c){var v=["pinterest","stumbleupon","yummly"];if("shortenUrl"in n&&"shortener"in n&&n.shortenUrl&&v.indexOf(t)<0){var l=n.shortener+":"+i;l in e.shareShortUrls?(i=e.shareShortUrls[l],e.shareWindow(t,n,c,s,i,o,u,d,r)):(c.toLowerCase().substring(0,4)=="http"&&window.open(t=="facebook"?"":n.sumoUrl+"/apps/share/loading",d,"height="+p+",width="+h+",location=0,menubar=0,status=0,titlebar=0,toolbar=0"),e.ajax({type:"POST",dataType:"json",url:n.sumoUrl+"/apps/share/shorten",data:{site_id:n.siteId,href:i},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(a){"success"in a&&a.success&&(e.shareShortUrls[l]=a.url,i=a.url,e.extend(n,a)),e.shareWindow(t,n,c,s,i,o,u,d,r)}))}else e.shareWindow(t,n,c,s,i,o,u,d,r)}}},e.shareWindow=function(t,n,r,i,s,o,u,a,f){"filterText"in e.shareServices[t]&&(i=e.shareServices[t].filterText(i)),r=r.replace(/{URL}/g,encodeURIComponent(s)),r=r.replace("{TEXT}",encodeURIComponent(i)),r=r.replace("{DESC}",""),r=r.replace("{IMAGE}",encodeURIComponent(o)),r=r.replace("{PROMO}",u?"":"%0A%0A%0AShared%20by%20SumoMe%20%28%20http%3A%2F%2Fsumome.com%2F%20%29");if("params"in e.shareServices[t])for(var l in e.shareServices[t].params)l in n&&n[l]?r=r.replace("{"+l.toUpperCase()+"}",encodeURIComponent(n[l])):r=r.replace("&"+l+"={"+l.toUpperCase()+"}","");r.toLowerCase().substring(0,5)=="sms:?"&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&(r=r.replace(/sms:(\+?([0-9]*))?\?/,"sms:$1&"));if(r.toLowerCase().substring(0,4)!="http")window.location.href=r,f&&f(t,s);else{var c=e.shareServices[t].width,h=e.shareServices[t].height,p=window.open(r,a,"height="+h+",width="+c+",location=0,menubar=0,status=0,titlebar=0,toolbar=0");if(f)var d=0,v=setInterval(function(){if(p.closed||d++>120)clearInterval(v),f(t,s)},500)}},e.shareFetch=function(t,n,r){var r=r||null,n=n||window.location.href.split("#")[0];typeof n=="function"&&(r=n,n=window.location.href.split("#")[0]);var t=t.toLowerCase();if(t in e.shareServices&&"fetch"in e.shareServices[t]&&"parse"in e.shareServices[t])try{var i="jsonp";"method"in e.shareServices[t]&&(i=e.shareServices[t].method);if(i=="json")e.ajax({type:"GET",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(n)),jsonp:"jsonp",dataType:"jsonp",cache:!1,success:function(i){try{var s=e.shareServices[t].parse(i);r!==null&&r(null,n,s)}catch(o){r!==null&&r(o)}},error:function(e){r!==null&&r(e)}});else if(i=="jsonproxy"){var s="//sumome.com/jsonproxy/?url="+encodeURIComponent("https:"+e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(n)));["odnoklassniki","vk"].indexOf(t)>-1&&(s+="&raw=true"),e.ajax({type:"GET",url:s,jsonp:"jsonp",dataType:"jsonp",cache:!1,success:function(i){try{var s=e.shareServices[t].parse(i);r!==null&&r(null,n,s)}catch(o){r!==null&&r(o)}},error:function(e){r!==null&&r(e)}})}else i=="jsonp"?e.ajax({type:"GET",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(n)),contentType:"application/json",dataType:"jsonp",cache:!1,success:function(i){try{var s=e.shareServices[t].parse(i);r!==null&&r(null,n,s)}catch(o){r!==null&&r(o)}},error:function(e){r!==null&&r(e)}}):i=="googleplus"&&e.ajax({type:"POST",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(n)),contentType:"application/json",cache:!1,data:JSON.stringify({method:"pos.plusones.get",id:"p",params:{nolog:!0,id:n,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}),success:function(i){try{var s=e.shareServices[t].parse(i);r!==null&&r(null,n,s)}catch(o){r!==null&&r(o)}},error:function(e){r!==null&&r(e)}})}catch(o){r!==null&&r(o)}else r!==null&&r(new Error("Invalid service"))}}),sumo.define("jquery.style",["jquery"],function(e){if(e.fn.style)return;var t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},n=!!CSSStyleDeclaration.prototype.getPropertyValue;n||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,n,r){this.setAttribute(e,n);var r=typeof r!="undefined"?r:"";if(r!=""){var i=new RegExp(t(e)+"\\s*:\\s*"+t(n)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(i,e+": "+n+" !"+r+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){var n=new RegExp(t(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return n.test(this.cssText)?"important":""}),e.fn.style=function(e,t,n){var r=this.get(0);if(typeof r=="undefined")return this;var i=this.get(0).style;return typeof e!="undefined"?typeof t!="undefined"?(n=n=="important"?n:"",n!="important"&&i.getPropertyPriority(e)=="important"&&i.removeProperty(e),i.setProperty(e,t,n),this):i.getPropertyValue(e):i}}),sumo.define("insQ",[],function(){var e=function(){function f(t,i){var s,o="insQ_"+e++,a=function(e){if(e.animationName===o||e[n]===o)c(e.target)||i(e.target)};s=document.createElement("style"),s.innerHTML="@"+r+"keyframes "+o+" {  from {  outline: 1px solid transparent  } to {  outline: 0px solid transparent }  }"+"\n"+t+" { animation-duration: 0.001s; animation-name: "+o+"; "+r+"animation-duration: 0.001s; "+r+"animation-name: "+o+"; "+" } ",document.head.appendChild(s);var f=setTimeout(function(){document.addEventListener("animationstart",a,!1),document.addEventListener("MSAnimationStart",a,!1),document.addEventListener("webkitAnimationStart",a,!1)},u.timeout);return{destroy:function(){clearTimeout(f),s&&(document.head.removeChild(s),s=null),document.removeEventListener("animationstart",a),document.removeEventListener("MSAnimationStart",a),document.removeEventListener("webkitAnimationStart",a)}}}function l(e){e.QinsQ=!0}function c(e){return u.strictlyNew&&e.QinsQ===!0}function h(e){var t=e.parentNode;return t?c(t)?e:h(t):e}function p(e){l(e),e=e.firstChild;for(;e;e=e.nextSibling)e!==undefined&&e.nodeType===1&&p(e)}function d(e,t){var n=[],r=function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){n.forEach(p),t(n),n=[]},10)}}();return f(e,function(e){if(c(e))return;l(e);var t=h(e);n.indexOf(t)<0&&n.push(t),r()})}var e=100,t=!1,n="animationName",r="",i="Webkit Moz O ms Khtml".split(" "),s="",o=document.createElement("div"),u={strictlyNew:!0,timeout:20};o.style.animationName&&(t=!0);if(t===!1)for(var a=0;a<i.length;a++)if(o.style[i[a]+"AnimationName"]!==undefined){s=i[a],n=s+"AnimationName",r="-"+s.toLowerCase()+"-",t=!0;break}var v=function(e){return t&&e.match(/[^{}]/)?(u.strictlyNew&&p(document.body),{every:function(t){return f(e,t)},summary:function(t){return d(e,t)}}):!1};return v.config=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t])},v}();return e}),sumo.define("debounce",["jquery"],function(e){"$:nomunge";var t;e.throttle=t=function(t,n,r,i){function u(){function f(){o=+(new Date),r.apply(e,a)}function l(){s=undefined}var e=this,u=+(new Date)-o,a=arguments;i&&!s&&f(),s&&clearTimeout(s),i===undefined&&u>t?f():n!==!0&&(s=setTimeout(i?l:f,i===undefined?t-u:t))}var s,o=0;return typeof n!="boolean"&&(i=r,r=n,n=undefined),e.guid&&(u.guid=r.guid=r.guid||e.guid++),u},e.debounce=function(e,n,r){return r===undefined?t(e,n,!1):t(e,r,n!==!1)}}),sumo.define("jquery.styleBuffer",["jquery","insQ","jquery.style","debounce"],function(e,t){e.fn.removeStyleBuffer=function(t,n){var r=this;return r.each(function(){var r=e(this).data(t+"-buffer-"+n),i=e(this).data(t+"-buffer-"+n+"-priority");e(this).style(t+"-"+n,r==undefined?"":r,i==undefined?"":i)}),e.each(e.fn.styleBuffer._groups,function(e,t){t.elements=t.elements.not(r)}),this},e.fn.styleBufferPage=function(t){var t=t||e("*"),n=e("[data-sumome-stylebuffer-page]"),r=n.length*e(window).height();return n.length>0?($fixed=t.not(n).not("body, html").filter(function(){if(e(this).is("[data-sumome-stylebuffer-page-fixed], #sumome-modal-mask, .sumome-control, .sumome-dialog-popup, .sumome-dialog-popup-overlay, .sumome-blockui, .sumome-block-overlay"))return!1;var t=e(this).css("position");if(t==="fixed")return!0;if(t!=="absolute")return!1;var n=e(this).parents().filter(function(t,n){return!e(n).is("body,html")&&["relative","fixed","absolute"].indexOf(e(n).css("position"))>=0});if(!n||!n.length)return!0;if(e(this).parents("[data-sumome-stylebuffer-page]").length>0)return!1;if(!e(this).parent().is("body,html"))return!1;var i=e(this).position().top;return i<=r&&i>-2e3?!0:!1}),$fixed.each(function(){e(this).attr("data-sumome-stylebuffer-page-fixed",!0);var t=["","-webkit","-ms","-moz","-o"];for(var n=0;n<t.length;n++){var r=t[n];e(this).data("sumome-stylebuffer-original"+r+"-transform",e(this).style(r+(r?"-":"")+"transform")),e(this).data("sumome-stylebuffer-original"+r+"-transform-priority",e(this).style().getPropertyPriority(r+(r?"-":"")+"transform")),e(this).data("sumome-stylebuffer-original"+r+"-transition-duration",e(this).style(r+(r?"-":"")+"transition-duration")),e(this).data("sumome-stylebuffer-original"+r+"-transition-duration-priority",e(this).style().getPropertyPriority(r+(r?"-":"")+"transition-duration"))}for(var n=0;n<t.length;n++){var r=t[n];e(this).style(r+(r?"-":"")+"transition-duration","0s","important"),e(this).style(r+(r?"-":"")+"transform","scale(0,0)","important")}e(this).is("iframe")&&(e(this).data("sumome-stylebuffer-original-display",e(this).style("display")),e(this).data("sumome-stylebuffer-original-display-priority",e(this).style().getPropertyPriority("display")),e(this).style("display","none","important"))})):e("[data-sumome-stylebuffer-page-fixed]").each(function(){var t=["","-webkit","-ms","-moz","-o"];for(var n=0;n<t.length;n++){var r=t[n];e(this).style(r+(r?"-":"")+"transform",e(this).data("sumome-stylebuffer-original"+r+"-transform"),e(this).data("sumome-stylebuffer-original"+r+"-transform-priority")),e(this).style(r+(r?"-":"")+"transition-duration",e(this).data("sumome-stylebuffer-original"+r+"-transition-duration"),e(this).data("sumome-stylebuffer-original"+r+"-transition-duration-priority"))}e(this).is("iframe")&&e(this).style("display",e(this).data("sumome-stylebuffer-original-display"),e(this).data("sumome-stylebuffer-original-display-priority")),e(this).removeAttr("data-sumome-stylebuffer-page-fixed")}),n},e.fn.styleBufferTop=function(t){t?e.fn.styleBufferTop._debounceInit(t):e.fn.styleBufferTop._init(t)},e.fn.styleBufferTop._init=function(t){var n=e.fn.styleBufferPage(),r=n.length*e(window).height();if(t)var i=e("[data-sumome-stylebuffer-top]");else var i=e("[data-sumome-stylebuffer-top],[data-sumome-stylebuffer-top-stash]");var s=0;i.sort(function(t,n){return t=e(t).data("sumome-stylebuffer-top"),n=e(n).data("sumome-stylebuffer-top"),t<n?-1:t>n?1:0}),e.fn.styleBufferTop._groups=[];var o=e("body"),u=e("#sumome-smartbar-popup[data-sumome-stylebuffer-top]"),a=0,f=!1;e.fn.styleBufferTop.stackedElements=e(i).not("#sumome-smartbar-popup"),u&&u.data("sumome-smartbar-config")&&(a=u.outerHeight(),f=u.data("sumome-smartbar-config").show_type),e(i).each(function(t,n){e.fn.styleBuffer._apply(e(n),"margin","top",s,!0),e.fn.styleBufferTop._groups.push({elements:e(n),prop:"margin",side:"top",px:s,force:!0}),typeof e(n).data("sumome-stylebuffertop-original-margin")=="undefined"&&e(n).data("sumome-stylebuffertop-original-margin",s),s+=e(n).height()}),typeof o.data("sumome-stylebuffertop-original-margintop")=="undefined"?(o.data("sumome-stylebuffertop-original-margintop",parseInt(o.css("marginTop"))),o.data("sumome-stylebuffertop-original-paddingtop",parseInt(o.css("paddingTop")))):(o.css("marginTop",o.data("sumome-stylebuffertop-original-margintop")),o.css("paddingTop",o.data("sumome-stylebuffertop-original-paddingtop"))),e.fn.styleBufferTop.oldTopElements&&e.fn.styleBufferTop.oldTopElements.length&&e.fn.styleBufferTop.oldTopElements.each(function(t,n){e(n).data("sumome-stylebuffertop-original-offset")?(e(n).style("top",e(n).data("sumome-stylebuffertop-original-offset").top),parseInt(e(n).data("sumome-stylebuffertop-original-offset").left)>=-2e3&&e(n).style("left",e(n).data("sumome-stylebuffertop-original-offset").left),e(n).style("bottom",e(n).data("sumome-stylebuffertop-original-offset").bottom),e(n).style("right",e(n).data("sumome-stylebuffertop-original-offset").right)):e(n).style("top","0px")}),t||(e.fn.styleBufferTop.classFixedElements===!1&&(e.fn.styleBufferTop.classFixedElements=e(".fixed").not(i).length),e.fn.styleBufferTop.oldTopElements=e("*").not(i).not(n).filter(function(t,n){var r=["absolute","fixed"].indexOf(e(n).css("position"))>=0&&e(n).position().top<s&&e(n).position().top>-2e3&&e(n).attr("id")!="sumome-modal-mask"&&!e(n).hasClass("sumome-control")&&!e(n).hasClass("sumome-dialog-popup")&&!e(n).hasClass("sumome-dialog-popup-overlay")&&!e(n).hasClass("sumome-image-sharer");if(r&&typeof e(n).data("sumome-stylebuffertop-original-position")=="undefined"){e(n).data("sumome-stylebuffertop-original-position",e(n).css("position"));var i={top:e(n).css("top"),left:e(n).css("left"),bottom:e(n).css("bottom"),right:e(n).css("right")};i.bottom!="auto"&&parseFloat(i.bottom)>0&&(i.bottom=parseFloat(i.bottom)-s+"px"),e(n).data("sumome-stylebuffertop-original-offset",i)}return r}),e.fn.styleBufferTop.oldTopElements=e.fn.styleBufferTop.oldTopElements.filter(function(t,n){if(e(n).css("position")=="fixed")return!0;var r=e(n).parents().filter(function(t,n){return!e(n).is("body,html")&&["relative","fixed","absolute"].indexOf(e(n).css("position"))>=0});return!r||!r.length}),e.fn.styleBufferTop.bumpDownElements=e.fn.styleBufferTop.oldTopElements.filter(function(t,n){var r=!1;return e(n).css("position")=="fixed"?!0:(e(n).parents().each(function(t,n){if(!e(n).is("body,html")&&["relative","absolute"].indexOf(e(n).css("position"))>=0)return r=!0,!1}),!r)}),e.fn.styleBufferTop.changePositionElements=e.fn.styleBufferTop.bumpDownElements.filter(function(t,n){var r=!1;return e(n).css("position")=="fixed"?(e(n).parents().each(function(t,n){if(!e(n).is("body,html")&&["relative","absolute","fixed"].indexOf(e(n).css("position"))>=0)return r=!0,!1}),r&&e(n).data("sumome-stylebuffertop-offset",{top:e(n).offset().top-e(window).scrollTop(),left:e(n).offset().left-e(window).scrollLeft()}),r):!1})),f=="smart"&&(e.fn.styleBufferTop.oldTopElements.addClass("sumome-smartbar-fixedTopSmart"),e(i).not("#sumome-smartbar-popup").style("transition","margin-top .2s ease-in-out"),o.style("transition","margin-top .2s ease-in-out")),f=="static"?(e(window).scrollTop()<=a&&e.fn.styleBufferTop.bumpDownElements&&e.fn.styleBufferTop.bumpDownElements.length&&(e.fn.styleBufferTop.bumpDownElements.each(function(t,n){var r=!1;if(e.inArray(n,e.fn.styleBufferTop.changePositionElements)>=0){r=!0;var i=e(n).offset()}e(n).style("position","absolute"),r?(e(n).data("sumome-smartbar-new-offset",{top:a+i.top-e(n).offset().top,left:i.left-e(n).offset().left}),e(n).style("top",e(n).data("sumome-smartbar-new-offset").top+"px"),e(n).style("left",e(n).data("sumome-smartbar-new-offset").left+"px")):e(n).style("top",s+"px"),e(n).data("sumome-stylebuffertop-original-top",s)}),e.fn.styleBufferTop.oldTopElements.each(function(t,n){e(n).css("position",e(n).data("sumome-stylebuffertop-original-position"))})),e(window).scroll(function(){var t=document.getElementById("sumome-smartbar-popup");if(t){var n=t.getBoundingClientRect(),r=n.height;n.bottom>0&&(r=n.height-n.bottom),e.fn.styleBufferTop.stackedElements.each(function(t,n){e(n).css("marginTop",e(n).data("sumome-stylebuffertop-original-margin")-r)}),e.fn.styleBufferTop.oldTopElements.each(function(t,n){e(n).css("position",e(n).data("sumome-stylebuffertop-original-position")),e(n).css("top",e(n).data("sumome-stylebuffertop-original-top")-r)})}})):(e.fn.styleBufferTop.oldTopElements&&e.fn.styleBufferTop.oldTopElements.length&&e.fn.styleBufferTop.oldTopElements.each(function(t,n){e(n).data("sumome-stylebuffertop-original-offset")&&e(n).data("sumome-stylebuffertop-original-offset").top!="auto"&&e(n).style("top",s+parseFloat(e(n).data("sumome-stylebuffertop-original-offset").top)+"px")}),f=="fixed"&&e(window).scroll(function(){var t=60,n=e(window).scrollTop();e.fn.styleBufferTop.classFixedElements!==e.fn.styleBufferTop.classFixedElementsScroll&&(n>=t&&e.fn.styleBufferTop.classFixedElementsScroll===!1?e.fn.styleBufferTop.classFixedElementsScroll=e(".fixed").not(i).length:n>=t&&!e.fn.styleBufferTop.checkScrollDown?(e.fn.styleBufferTop.checkScrollDown=!0,e.fn.styleBufferTop.checkScrollUp=!1,e("body").styleBufferTop()):n<t&&!e.fn.styleBufferTop.checkScrollUp&&(e.fn.styleBufferTop.checkScrollDown=!1,e.fn.styleBufferTop.checkScrollUp=!0,e("body").styleBufferTop()))}));var u=e("#sumome-smartbar-popup");u&&u.data("sumome-smartbar-config")&&u.data("sumome-smartbar-config").show_type=="smart"&&(s=0,e("[data-sumome-stylebuffer-top],[data-sumome-stylebuffer-top-stash]").each(function(){s+=e(this).outerHeight()})),e.fn.styleBufferTop.totalOffset=s,s+=o.data("sumome-stylebuffertop-original-paddingtop")+o.data("sumome-stylebuffertop-original-margintop"),s+r!==0?(e.fn.styleBuffer._apply(o,"padding","top",s+r,!0,"important"),e.fn.styleBuffer._apply(o,"margin","top",0,!0,"important"),e.fn.styleBufferTop._groups.push({elements:o,prop:"padding",side:"top",px:s+r,force:!0}),e.fn.styleBufferTop._groups.push({elements:o,prop:"margin",side:"top",px:0,force:!0})):(o.removeStyleBuffer("padding","top"),o.removeStyleBuffer("margin","top")),o.css("-webkit-animation-name")=="bugfix"&&(e("[data-sumome-stylebuffertop-bugfix]").length&&e("[data-sumome-stylebuffertop-bugfix]").remove(),o.append("<style data-sumome-stylebuffertop-bugfix>@-webkit-keyframes sumome-bugfix { from { fill: 0; } to { fill: 0; } }</style>"),o.css("-webkit-animation","sumome-bugfix infinite 1s")),typeof o.data("sumome-stylebuffertop-original-bgposition")=="undefined"&&(o.data("sumome-stylebuffertop-original-bgposition",o.css("backgroundPosition")),o.data("sumome-stylebuffertop-original-bgpositiony",o.css("backgroundPositionY")),o.data("sumome-stylebuffertop-original-bgrepeat",o.css("backgroundRepeat"))),o.data("sumome-stylebuffertop-original-bgposition")=="50% 0%"&&o.data("sumome-stylebuffertop-original-bgrepeat")=="no-repeat"&&o.css("backgroundPositionY",s);if(/^50% [0-9]+px, 0% [0-9]+px$/.test(o.data("sumome-stylebuffertop-original-bgposition"))&&/^no-repeat/.test(o.data("sumome-stylebuffertop-original-bgrepeat"))){var l=o.data("sumome-stylebuffertop-original-bgpositiony").split(", ");o.css("backgroundPositionY",parseInt(l[0])+s+"px, "+(parseInt(l[1])+s)+"px")}return this},e.fn.styleBufferTop._debounceInit=e.debounce(150,!0,function(t){e.fn.styleBufferTop._init(t)}),e.fn.styleBufferBottom=function(t){t?e.fn.styleBufferBottom._debounceInit(t):e.fn.styleBufferBottom._init(t)},e.fn.styleBufferBottom._init=function(t){var n=e("[data-sumome-stylebuffer-page]");if(t)var r=e("[data-sumome-stylebuffer-bottom]");else var r=e("[data-sumome-stylebuffer-bottom],[data-sumome-stylebuffer-bottom-stash]");var i=0;r.sort(function(t,n){return t=e(t).data("sumome-stylebuffer-bottom"),n=e(n).data("sumome-stylebuffer-bottom"),t<n?-1:t>n?1:0}),e.fn.styleBufferBottom._groups=[];var s=e("body"),o=e("#sumome-smartbar-popup[data-sumome-stylebuffer-bottom]"),u=0,a=!1;e.fn.styleBufferBottom.stackedElements=e(r).not("#sumome-smartbar-popup"),o&&o.data("sumome-smartbar-config")&&(u=o.outerHeight(),a=o.data("sumome-smartbar-config").show_type),e(r).each(function(t,n){e(n).data("sumome-stylebufferbottom-offsety")&&(i+=e(n).data("sumome-stylebufferbottom-offsety")),e.fn.styleBuffer._apply(e(n),"top","top","auto",!0),e.fn.styleBuffer._apply(e(n),"bottom","bottom",i,!0),e.fn.styleBufferBottom._groups.push({elements:e(n),prop:"top",side:"top",px:"auto",force:!0}),e.fn.styleBufferBottom._groups.push({elements:e(n),prop:"bottom",side:"bottom",px:i,force:!0}),typeof e(n).data("sumome-stylebufferbottom-original-bottom")=="undefined"&&e(n).data("sumome-stylebufferbottom-original-bottom",i),i+=e(n).height()}),typeof s.data("sumome-stylebufferbottom-original-marginbottom")=="undefined"?(s.data("sumome-stylebufferbottom-original-marginbottom",parseInt(s.css("marginBottom"))),s.data("sumome-stylebufferbottom-original-paddingbottom",parseInt(s.css("paddingBottom")))):(s.css("marginBottom",s.data("sumome-stylebufferbottom-original-marginbottom")),s.css("paddingBottom",s.data("sumome-stylebufferbottom-original-paddingbottom"))),e.fn.styleBufferBottom.oldBottomElements&&e.fn.styleBufferBottom.oldBottomElements.length&&e.fn.styleBufferBottom.oldBottomElements.each(function(t,n){e(n).data("sumome-stylebufferbottom-original-offset")?(e(n).style("position",e(n).data("sumome-stylebufferbottom-original-position")),e(n).style("top",e(n).data("sumome-stylebufferbottom-original-offset").top),e(n).style("left",e(n).data("sumome-stylebufferbottom-original-offset").left),e(n).style("bottom",e(n).data("sumome-stylebufferbottom-original-offset").bottom),e(n).style("right",e(n).data("sumome-stylebufferbottom-original-offset").right)):e(n).style("bottom","0px")});if(!t){e.fn.styleBufferBottom.oldBottomElements=e("*").not(r).not(n).filter(function(t,n){var r=["absolute","fixed"].indexOf(e(n).css("position"))>=0&&parseInt(e(n).css("bottom"))<i&&e(n).attr("id")!="sumome-modal-mask"&&!e(n).hasClass("sumome-control")&&!e(n).hasClass("sumome-dialog-popup")&&!e(n).hasClass("sumome-dialog-popup-overlay");return r&&typeof e(n).data("sumome-stylebufferbottom-original-position")=="undefined"&&(e(n).data("sumome-stylebufferbottom-original-position",e(n).css("position")),e(n).data("sumome-stylebufferbottom-original-offset",{top:e(n).css("top"),left:e(n).css("left"),bottom:e(n).css("bottom"),right:e(n).css("right")})),r});var f=e(window).height();e.fn.styleBufferBottom.oldBottomElements=e.fn.styleBufferBottom.oldBottomElements.filter(function(t,n){if(e(n).height()>=f)return!1;if(e(n).css("position")=="fixed")return!0;var r=e(n).parents().filter(function(t,n){return!e(n).is("body,html")&&["relative","fixed","absolute"].indexOf(e(n).css("position"))>=0});return!r||!r.length})}a=="smart"&&e(r).not("#sumome-smartbar-popup").style("transition","bottom .2s ease-in-out"),e.fn.styleBufferBottom.oldBottomElements&&e.fn.styleBufferBottom.oldBottomElements.length&&e.fn.styleBufferBottom.oldBottomElements.each(function(t,n){e(n).style("bottom",i+parseFloat(e(n).data("sumome-stylebufferbottom-original-offset").bottom)+"px"),i+=e(n).height()}),e.fn.styleBufferBottom.totalOffset=i,i+=s.data("sumome-stylebufferbottom-original-paddingbottom")+s.data("sumome-stylebufferbottom-original-marginbottom"),e(".sumome-stylebufferbottom-shim").length||e('<div class="sumome-stylebufferbottom-shim" />').appendTo(s);var l=e(".sumome-stylebufferbottom-shim");return l.height(i),this},e.fn.styleBufferBottom._debounceInit=e.debounce(150,!0,function(t){e.fn.styleBufferBottom._init(t)}),e.fn.styleBuffer=function(t,n,r){return this.length<1?this:(e.fn.styleBuffer._groups.push({elements:this,prop:t,side:n,px:r,force:!1}),e.fn.styleBuffer._apply(this,t,n,r,!1),this)},e.fn.styleBuffer._apply=function(t,n,i,s,o,u){var a=e(t);return a.each(function(){var t=e(this);if(n==i)t.style(n,s+(s!="auto"?"px":""),u==undefined?"":u);else{var a=t.data(n+"-buffer-"+i),f=t.data(n+"-buffer-"+i+"-priority");a==undefined?(a=t.style(n+"-"+i),f=t.style().getPropertyPriority(n+"-"+i),t.data(n+"-buffer-"+i,a==undefined?"":a),t.data(n+"-buffer-"+i+"-priority",f==undefined?"":f)):e(this).style(n+"-"+i,a,f==undefined?"":f);if(o)t.style(n+"-"+i,s+"px",u==undefined?"":u);else{var l=r(t.css(n+"-"+i));t.style(n+"-"+i,Math.max(l,s)+"px",u==undefined?"":u)}}}),this},e.fn.styleBuffer.smartHide=function(t,n){if(!e.fn.styleBuffer.firedSmartHide){e.fn.styleBuffer.firedSmartHide=!0,e.fn.styleBuffer.firedSmartShow=!1;if(n)var r=e.fn.styleBufferTop,i=r.oldTopElements,s="sumome-stylebuffertop-original-margin",o="sumome-stylebuffertop-original-offset",u="sumome-stylebuffertop-original-position",a="top",f="marginTop";else{var r=e.fn.styleBufferBottom,i=r.oldBottomElements,s="sumome-stylebufferbottom-original-bottom",o="sumome-stylebufferbottom-original-offset",u="sumome-stylebufferbottom-original-position",a="bottom",f="bottom";e(".sumome-stylebufferbottom-shim").length&&e(".sumome-stylebufferbottom-shim").height("-="+t)}i&&i.length&&i.each(function(n,i){if(e(i).data(o)){if(e(i).data(u)=="fixed")var s=r.totalOffset-t;else var s=t+parseFloat(e(i).data(o).top);e(i).style(a,s+"px")}else e(i).style(a,"0px")}),r.stackedElements&&r.stackedElements.length&&r.stackedElements.each(function(n,r){e(r).css(f,e(r).data(s)-t)})}},e.fn.styleBuffer.smartShow=function(t,n){if(!e.fn.styleBuffer.firedSmartShow){e.fn.styleBuffer.firedSmartHide=!1,e.fn.styleBuffer.firedSmartShow=!0;if(n)var r=e.fn.styleBufferTop,i=r.oldTopElements,s="sumome-stylebuffertop-original-margin",o="sumome-stylebuffertop-original-offset",u="top",a="marginTop";else{var r=e.fn.styleBufferBottom,i=r.oldBottomElements,s="sumome-stylebufferbottom-original-bottom",o="sumome-stylebufferbottom-original-offset",u="bottom",a="bottom";e(".sumome-stylebufferbottom-shim").length&&e(".sumome-stylebufferbottom-shim").height("+="+t)}i&&i.length&&i.each(function(n,i){e(i).data(o)?e(i).style(u,r.totalOffset+"px"):e(i).style(u,t+"px")}),r.stackedElements&&r.stackedElements.length&&r.stackedElements.each(function(t,n){e(n).css(a,e(n).data(s))})}},e.fn.styleBuffer._groups=[],e.fn.styleBuffer._throttle=80,e.fn.styleBuffer.firedSmartHide=!1,e.fn.styleBuffer.firedSmartShow=!1,e.fn.styleBufferTop._groups=[],e.fn.styleBufferTop.stackedElements=null,e.fn.styleBufferTop.oldTopElements=null,e.fn.styleBufferTop.bumpDownElements=null,e.fn.styleBufferTop.changePositionElements=null,e.fn.styleBufferTop.totalOffset=0,e.fn.styleBufferTop.checkedScrollDown=!1,e.fn.styleBufferTop.classFixedElements=!1,e.fn.styleBufferTop.classFixedElementsScroll=!1,e.fn.styleBufferTop.checkScrollDown=!1,e.fn.styleBufferTop.checkScrollUp=!0,e.fn.styleBufferBottom._groups=[],e.fn.styleBufferBottom.stackedElements=null,e.fn.styleBufferBottom.oldBottomElements=null,e.fn.styleBufferBottom.totalOffset=0;var n=-1;e.fn.styleBuffer._update=e.debounce(150,!0,function(t){if(t&&t.type==="resize"){var r=e(window).width();if(r===n)return;n=r}e.each(e.fn.styleBuffer._groups,function(){e.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force)}),e.fn.styleBufferTop._groups.length&&(e("body").styleBufferTop(!0),e.each(e.fn.styleBufferTop._groups,function(){e.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force)})),e.fn.styleBufferBottom._groups.length&&(e("body").styleBufferBottom(!0),e.each(e.fn.styleBufferBottom._groups,function(){e.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force)}))}),e(window).bind("load resize orientationchange",function(t){if(t&&t.type=="resize"&&t.target!=window)return;e.fn.styleBuffer._update(t)}),t.config({strictlyNew:!1}),t("#menufication-top").every(e.proxy(function(t){e("body").styleBufferTop()},this));var r=function(e){return parseFloat(e)||0}}),sumo.define("jquery.displayrules",["jquery","URI","underscore","jquery.article"],function(e,t,n){e.isCurrentSizeAllowed=function(t,r){if(t&&t.length){var i=n.filter(t,function(e){return e.rule_type=="include"&&n.contains(["smaller","bigger"],e.filter_type)}),s=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),o=!1;i&&i.length?i.forEach(function(e){if(e.filter_type=="smaller"){if(isNaN(parseFloat(e.filter_value))||s<parseFloat(e.filter_value))o=!0}else e.filter_type=="bigger"&&(isNaN(parseFloat(e.filter_value))||s>=parseFloat(e.filter_value))&&(o=!0)}):o=!0;if(!o)return!1;var u=n.filter(t,function(e){return e.rule_type=="exclude"&&n.contains(["smaller","bigger"],e.filter_type)}),a=!1;return u&&u.length?(u.forEach(function(e){e.filter_type=="smaller"?!isNaN(parseFloat(e.filter_value))&&s<parseFloat(e.filter_value)&&(a=!0):e.filter_type=="bigger"&&!isNaN(parseFloat(e.filter_value))&&s>=parseFloat(e.filter_value)&&(a=!0)}),!a):!0}return!0},e.areCurrentCookiesAllowed=function(e,t){var r=document.cookie.split(";"),i={},s=[];for(var o=0;o<r.length;o++){var u=r[o].substring(0,r[o].indexOf("=")).trim(),a=r[o].substring(r[o].indexOf("=")+1).trim();s.push(u),i[u]=a}var f=!1;if(e&&e.length){var l=n.filter(e,function(e){return e.rule_type=="include"&&n.contains(["c_exists","c_dne","c_equals","c_notequals","c_contains","c_notcontains"],e.filter_type)});l&&l.length?l.forEach(function(e){if(e.filter_type=="c_exists")n.contains(s,e.filter_value)&&(f=!0);else if(e.filter_type=="c_dne")n.contains(s,e.filter_value)||(f=!0);else if(e.filter_type=="c_equals")n.contains(s,e.filter_value)&&i[e.filter_value]==e.param_value&&(f=!0);else if(e.filter_type=="c_notequals"){if(!n.contains(s,e.filter_value)||i[e.filter_value]!=e.param_value)f=!0}else e.filter_type=="c_contains"?n.contains(s,e.filter_value)&&i[e.filter_value].indexOf(e.param_value)>=0&&(f=!0):e.filter_type=="c_notcontains"&&(!n.contains(s,e.filter_value)||i[e.filter_value].indexOf(e.param_value)<0)&&(f=!0)}):f=!0;if(!f)return!1;var c=n.filter(e,function(e){return e.rule_type=="exclude"&&n.contains(["c_exists","c_dne","c_equals","c_notequals","c_contains","c_notcontains"],e.filter_type)}),h=!1;return c&&c.length?(c.forEach(function(e){if(e.filter_type=="c_exists")n.contains(s,e.filter_value)&&(h=!0);else if(e.filter_type=="c_dne")n.contains(s,e.filter_value)||(h=!0);else if(e.filter_type=="c_equals")n.contains(s,e.filter_value)&&i[e.filter_value]==e.param_value&&(h=!0);else if(e.filter_type=="c_notequals"){if(!n.contains(s,e.filter_value)||i[e.filter_value]!=e.param_value)h=!0}else e.filter_type=="c_contains"?n.contains(s,e.filter_value)&&i[e.filter_value].indexOf(e.param_value)>=0&&(h=!0):e.filter_type=="c_notcontains"&&(!n.contains(s,e.filter_value)||i[e.filter_value].indexOf(e.param_value)<0)&&(h=!0)}),!h):!0}return!0},e.isCurrentUrlAllowed=function(r,i,s,o){if(r&&r.length){var u=n.findWhere(r,{filter_type:"article"}),a=[];u&&(a=e.articles()),s||(s=!1);var f=function(e){var t=n.pairs(e),r=t.length;return function(e){if(e==null)return!r;e=new Object(e);for(var n=0;n<r;n++){var i=t[n],s=i[0];if(i[1]!==e[s]||!(s in e))return!1}return!0}},l=function(e){var e=e.substr(1).split("&");if(e=="")return{};var t={};for(var n=0;n<e.length;++n){var r=e[n].split("=",2);if(r.length==1)t[r[0]]="";else try{t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}catch(i){t[r[0]]=r[1].replace(/\+/g," ")}}return t},c=function(e,t,r){if(e.has_hash&&e.hash!=t)return!1;if(e.has_query_params){var i=l(e.search),s=l(r),o=f(i);if(o(s))return!0;if(!n.contains(["containing","beginning"],e.filter_type))return!1;var u=!0,a=Object.keys(i);for(var c=0;c<a.length;c++){var h=a[c],p=i[a[c]];if(p&&p.length){if(!(h in s))return!1;if(s[h].indexOf(p)!=0)return!1}else{if(h in s)continue;var d=Object.keys(s),v=!1;for(var m=0;m<d.length;m++){var g=d[m];if(g.indexOf(h)==0){v=!0;break}}if(!v)return!1}}}return!0},h=n.where(r,{rule_type:"include"}),p=window.location.toString();p&&(p=p.toLowerCase());var d=window.location.pathname.toString();d&&(d=d.toLowerCase());var v=window.location.hostname+d;v&&(v=v.toLowerCase()),d[d.length-1]=="/"&&(d=d.substring(0,d.length-1),v=v.substring(0,v.length-1)),v.indexOf("www.")==0&&(v=v.substring(4));var m=window.location.search;m&&(m=m.toLowerCase());var g=window.location.hash;g&&(g=g.toLowerCase());var y=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),b=document.cookie.split(";"),w={},E=[];for(var S=0;S<b.length;S++){var x=b[S].substring(0,b[S].indexOf("=")).trim(),T=b[S].substring(b[S].indexOf("=")+1).trim();E.push(x),w[x]=T}var N=document.referrer;if(N&&N.length){N=N.toLowerCase();try{var C=t(N);if(C.is("ip")){var k=C.hostname();k&&(k=k.toLowerCase())}else{var k=C.domain();k&&(k=k.toLowerCase())}var L=C.path();L&&(L=L.toLowerCase());var A=C.tld();A&&(A=A.toLowerCase());var O=C.hostname()?C.hostname().toLowerCase()+L:L;L[L.length-1]=="/"&&(L=L.substring(0,L.length-1),O=O.substring(0,O.length-1)),O.indexOf("www.")==0&&(O=O.substring(4));var M=C.search(),D=C.hash()}catch(P){N=!1}}else N=!1;var H=!1;h&&h.length?h.forEach(function(e){if(e.filter_type=="article")a.length==1&&(H=!0);else if(e.filter_type=="smaller"){if(isNaN(parseFloat(e.filter_value))||y<parseFloat(e.filter_value))H=!0}else if(e.filter_type=="bigger"){if(isNaN(parseFloat(e.filter_value))||y>=parseFloat(e.filter_value))H=!0}else if(e.filter_type=="views_lt"){if(isNaN(e.pageviews)||o<e.pageviews)H=!0}else if(e.filter_type=="views_eq"){if(isNaN(e.pageviews)||o==e.pageviews)H=!0}else if(e.filter_type=="views_gt"){if(isNaN(e.pageviews)||o>e.pageviews)H=!0}else if(e.filter_type=="countryis")s==e.filter_value.toLowerCase()&&(H=!0);else if(e.filter_type=="countryisnot"){if(!s||s!=e.filter_value.toLowerCase())H=!0}else if(e.filter_type=="c_exists")n.contains(E,e.filter_value)&&(H=!0);else if(e.filter_type=="c_dne")n.contains(E,e.filter_value)||(H=!0);else if(e.filter_type=="c_equals")n.contains(E,e.filter_value)&&w[e.filter_value]==e.param_value&&(H=!0);else if(e.filter_type=="c_notequals"){if(!n.contains(E,e.filter_value)||w[e.filter_value]!=e.param_value)H=!0}else if(e.filter_type=="c_contains")n.contains(E,e.filter_value)&&w[e.filter_value].indexOf(e.param_value)>=0&&(H=!0);else if(e.filter_type=="c_notcontains"){if(!n.contains(E,e.filter_value)||w[e.filter_value].indexOf(e.param_value)<0)H=!0}else if(e.filter_type=="exact"){var t=c(e,g,m);t&&(e.full_url?v==e.match_url&&(H=!0):e.match_url==null&&t?H=!0:d==e.match_url&&(H=!0))}else if(e.filter_type=="beginning"){var t=c(e,g,m);t&&(e.full_url?v.indexOf(e.match_url.toLowerCase())==0&&(H=!0):e.match_url==null&&t?H=!0:d.indexOf(e.match_url.toLowerCase())==0&&(H=!0))}else if(e.filter_type=="containing"){var t=c(e,g,m);t&&(e.full_url?v.indexOf(e.match_url.toLowerCase())>=0&&(H=!0):e.match_url==null&&t?H=!0:d.indexOf(e.match_url.toLowerCase())>=0&&(H=!0))}else if(N&&["r_url_exact","r_domain_exact","r_url_beginning","r_domain_beginning","r_url_containing","r_domain_containing"].indexOf(e.filter_type)>=0)if(e.filter_type=="r_url_exact"){var t=c(e,M,D);e.full_url?t&&O==e.match_url.toLowerCase()&&(H=!0):t&&O==e.match_url.toLowerCase()?H=!0:e.match_url==null&&t&&(H=!0)}else if(e.filter_type=="r_domain_exact")e.host?e.host==k&&(H=!0):e.filter_value==k&&(H=!0);else if(e.filter_type=="r_url_beginning"){var t=!0;requiresSpecialMatching&&(t=c(e,D,M)),e.full_url?t&&O.indexOf(e.match_url)==0&&(H=!0):t&&O.indexOf(e.match_url)==0?H=!0:e.match_url==null&&t&&(H=!0)}else if(e.filter_type=="r_domain_beginning")e.host&&k.indexOf(e.host)==0?H=!0:k.indexOf(e.filter_value)==0&&(H=!0);else if(e.filter_type=="r_url_containing"){var t=!0;requiresSpecialMatching&&(t=c(e,D,M)),e.full_url?t&&O.indexOf(e.match_url)>=0&&(H=!0):t&&O.indexOf(e.match_url)>=0?H=!0:e.match_url==null&&t&&(H=!0)}else e.filter_type=="r_domain_containing"&&(e.host&&k.indexOf(e.host)>=0?H=!0:k.indexOf(e.filter_value)>=0&&(H=!0))}):H=!0;if(!H)return!1;var B=n.where(r,{rule_type:"exclude"}),j=!1;return!B||!B.length?!0:(B.forEach(function(e){var t=e.has_hash||e.has_query_params;if(e.filter_type=="article")a.length==1&&(j=!0);else if(e.filter_type=="smaller")!isNaN(parseFloat(e.filter_value))&&y<parseFloat(e.filter_value)&&(j=!0);else if(e.filter_type=="bigger")!isNaN(parseFloat(e.filter_value))&&y>=parseFloat(e.filter_value)&&(j=!0);else if(e.filter_type=="views_lt")!isNaN(e.pageviews)&&o<e.pageviews&&(j=!0);else if(e.filter_type=="views_eq")!isNaN(e.pageviews)&&o==e.pageviews&&(j=!0);else if(e.filter_type=="views_gt")!isNaN(e.pageviews)&&o>e.pageviews&&(j=!0);else if(e.filter_type=="countryis")s==e.filter_value.toLowerCase()&&(j=!0);else if(e.filter_type=="countryisnot"){if(!s||s!=e.filter_value.toLowerCase())j=!0}else if(e.filter_type=="c_exists")n.contains(E,e.filter_value)&&(j=!0);else if(e.filter_type=="c_dne")n.contains(E,e.filter_value)||(j=!0);else if(e.filter_type=="c_equals")n.contains(E,e.filter_value)&&w[e.filter_value]==e.param_value&&(j=!0);else if(e.filter_type=="c_notequals"){if(!n.contains(E,e.filter_value)||w[e.filter_value]!=e.param_value)j=!0}else if(e.filter_type=="c_contains")n.contains(E,e.filter_value)&&w[e.filter_value].indexOf(e.param_value)>=0&&(j=!0);else if(e.filter_type=="c_notcontains"){if(!n.contains(E,e.filter_value)||w[e.filter_value].indexOf(e.param_value)<0)j=!0}else if(e.filter_type=="exact"){var r=!0;t&&(r=c(e,g,m));if(e.full_url)r&&v==e.match_url&&(j=!0);else if(r&&d==e.match_url||t&&r&&e.match_url==null)j=!0}else if(e.filter_type=="beginning"){var r=!0;t&&(r=c(e,g,m));if(e.full_url)r&&v.indexOf(e.match_url)==0&&(j=!0);else if(r&&d.indexOf(e.match_url)==0||t&&r&&e.match_url==null)j=!0}else if(e.filter_type=="containing"){var r=!0;t&&(r=c(e,g,m));if(e.full_url)r&&v.indexOf(e.match_url)>=0&&(j=!0);else if(r&&d.indexOf(e.match_url)>=0||t&&r&&e.match_url==null)j=!0}else if(N&&["r_url_exact","r_domain_exact","r_url_beginning","r_domain_beginning","r_url_containing","r_domain_containing"].indexOf(e.filter_type)>=0)if(e.filter_type=="r_url_exact"){var r=!0;t&&(r=c(e,D,M));if(N)if(e.full_url)r&&O==e.match_url&&(j=!0);else if(r&&O==e.match_url||t&&r&&e.match_url==null)j=!0}else if(e.filter_type=="r_domain_exact")e.host?e.host==k&&(j=!0):e.filter_value==k&&(j=!0);else if(e.filter_type=="r_url_beginning"){var r=!0;t&&(r=c(e,D,M));if(e.full_url)r&&O.indexOf(e.match_url)==0&&(j=!0);else if(r&&O.indexOf(e.match_url)==0||t&&r&&e.match_url==null)j=!0}else if(e.filter_type=="r_domain_beginning")e.host&&k.indexOf(e.host)==0?j=!0:k.indexOf(e.filter_value)==0&&(j=!0);else if(e.filter_type=="r_url_containing"){var r=!0;t&&(r=c(e,D,M));if(e.full_url)r&&O.indexOf(e.match_url)>=0&&(j=!0);else if(r&&O.indexOf(e.match_url)>=0||t&&r&&e.match_url==null)j=!0}else e.filter_type=="r_domain_containing"&&(e.host&&k.indexOf(e.host)>=0?j=!0:k.indexOf(e.filter_value)>=0&&(j=!0))}),j?!1:!0)}return!0}}),sumo.define("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share",["jquery","URI","color","underscore","vex","plugins/text!9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/templates/share.html","jquery.article","jquery.share","jquery.style","jquery.styleBuffer","jquery.displayrules"],function(e,t,n,r,i,s){function u(e,t){var t=t||1;t=Math.pow(10,t);var n=["k","m","b","t"];for(var r=n.length-1;r>=0;r--){var i=Math.pow(10,(r+1)*3);if(i<=e){e=Math.round(e*t/i)/t,e==1e3&&r<n.length-1&&(e=1,r++),e+=n[r];break}}return e}var o=function(){var n=e('meta[property="og:url"]').eq(0).attr("content")||e('link[rel="canonical"]').eq(0).attr("href")||window.location.href.split("#")[0]||null;if(n){var r=t(n);return r.is("absolute")?r.toString():r.absoluteTo(window.location.href.split("#")[0]).toString()}return n};e.fn.unstatic=function(){return e(this).addClass("sumome-article"),e(this).css("position")=="static"&&e(this).css("position","relative"),e(this).css("box-sizing")=="content-box"&&e(this).css("box-sizing","border-box"),this};var a={settings:{},positionSettings:{},customPositions:[],initialize:function(){this.api.on("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service/reload",e.proxy(function(){this.load()},this)),this.load()},load:function(){this.settings={articles:e.articles()},this.settings.articles.length>1&&(this.settings.articles=e([]));var t=[];this.settings.articles.each(function(){this._url&&t.push(this._url)});var n=e.makeArray(e("[data-sumome-share-id]").map(function(){return e(this).data("sumome-share-id")}));e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/share/load",data:{site_id:this.api.properties.siteId,href:o(),urls:t,geoLocation:this.api.properties.geoLocation,custom_positions:n,pageViews:this.api.properties.views},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(t){if(t&&"success"in t&&t.success){e.extend(this.settings,t);var n=Math.min(window.screen.availWidth||e(window).width(),e(window).width());if(this.settings.pro&&this.settings.use_mobile_services&&n<=this.settings.mobile_width)var r=this.settings.mobile_services;else var r=this.settings.services;var i={button_padding:this.settings.button_padding,button_style:this.settings.button_style,color:this.settings.color,services:r,services_displayed:this.settings.services_displayed,shares_background:this.settings.shares_background,shares_displayed:this.settings.shares_displayed,size:this.settings.size,offset_x:0,offset_y:0,total_shares_displayed:this.settings.total_shares_displayed};"positions"in this.settings&&this.settings.positions.length&&this.settings.positions.forEach(e.proxy(function(t){this.settings.pro&&t in this.settings.position_settings?this.positionSettings[t]=e.extend({},i,this.settings.position_settings[t]):this.positionSettings[t]=e.extend({},i);switch(this.positionSettings[t].size){case"small":this.positionSettings[t].sizePx=30;break;case"large":this.positionSettings[t].sizePx=70;break;default:this.positionSettings[t].sizePx=50}!this.settings.pro&&this.positionSettings[t].services.indexOf("sumome")<0&&this.positionSettings[t].services.push("sumome")},this)),this.settings.pro&&"custom_position_settings"in this.settings&&e(this.settings.custom_position_settings).length&&this.settings.custom_position_settings.forEach(e.proxy(function(t){t.use_settings||e.extend(t,i);switch(t.size){case"small":t.sizePx=30;break;case"large":t.sizePx=70;break;default:t.sizePx=50}this.customPositions.push(t)},this)),this.settings.ctry=this.api.properties.geoLocation&&this.api.properties.geoLocation.ctry?this.api.properties.geoLocation.ctry:!1,this.settings.views=this.api.properties.views?this.api.properties.views:1,e.isCurrentUrlAllowed(this.settings.display_rules,null,this.settings.ctry,this.settings.views)&&(this.install(),this.fetch())}},a))},position:function(){var t=this;e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").each(function(){var n=e(window).height(),r=e(this).outerHeight(),i=Math.max(Math.floor(n-r)/2,0),s=e(this).hasClass("sumome-share-client-wrapper-left-page")?"lp":"rp";s in t.settings.position_settings&&("offset_x"in t.settings.position_settings[s]&&t.settings.position_settings[s].offset_x!=0&&(s=="lp"?e(this).css("left",t.settings.position_settings[s].offset_x+"px"):e(this).css("right",0-t.settings.position_settings[s].offset_x+"px")),"offset_y"in t.settings.position_settings[s]&&t.settings.position_settings[s].offset_y!=0&&(i+=t.settings.position_settings[s].offset_y)),e(this).css("top",i+"px")}),e(".sumome-share-client-desktop-bottom-bar, .sumome-share-client-mobile-top-bar, .sumome-share-client-mobile-bottom-bar").each(function(){var n=e(this).data("sumome-share-pos"),r=t.positionSettings[n].sizePx,i=e(this).children();i.show();var s=e(window).width(),o=Math.max(r,s/i.length),u=Math.floor(s/o),a=i.length-u,f=0,l=0;while(f<a&&l<i.length){var c=i.eq(i.length-1-l).data("sumome-share");c!="sumome"&&(i.eq(i.length-1-l).hide(),f++),l++}var h=i.length-f,p=!1,d=0,n=e(this).data("sumome-share-pos");n in t.settings.position_settings&&"button_padding"in t.settings.position_settings[n]?("button_style"in t.settings.position_settings[n]&&t.settings.position_settings[n].button_style=="circle"&&(p=!0),d=t.settings.position_settings[n].button_padding):"button_padding"in t.settings&&("button_style"in t.settings&&t.settings.button_style=="circle"&&(p=!0),d=t.settings.button_padding),p?(o=r,i.css({marginRight:(s-o*h)/(h-1)+"px"})):(d&&(s-=(h-1)*d),o=s/h),i.css({width:o+"px"}),i.eq(h-1).css("marginRight",0)})},updateTotals:function(t){this.settings.share+=t;var n=this.settings.share,r=e(".sumome-share-client-share[data-sumome-share=share]");n>=this.settings.shares_minimum?r.html("<span><strong>"+u(n)+"</strong><br>"+this.settings.shares_label+"</span>"):r.html("<span>"+this.settings.shares_label+"</span>");var i=e(".sumome-share-client-open-mobile");i.find("span").remove(),n>=this.settings.shares_minimum&&i.append("<span>"+u(n)+"</span>"),"pro"in this.settings&&this.settings.pro&&(n>=this.settings.shares_minimum?e("[data-sumome-share-count=share]").text(u(n)):e("[data-sumome-share-count=share]").text("")),this.alignShareLabels()},fetch:function(t){var t=t||null,n=t!==null;if(t===null){t=[];for(var r in e.shareServices)"background"in e.shareServices[r]&&"name"in e.shareServices[r]&&"fetch"in e.shareServices[r]&&t.push(r)}t.forEach(e.proxy(function(t){t in e.shareServices&&(n||!(t in this.settings)&&t!="stumbleupon"||this.settings.fetch.indexOf(t)>=0)&&"fetch"in e.shareServices[t]&&"parse"in e.shareServices[t]&&e.shareFetch(t,o(),e.proxy(function(n,r,i){if(!n){var s=i-this.settings[t];this.settings[t]=i;var o=e(".sumome-share-client-share[data-sumome-share="+t+"]");o.each(e.proxy(function(t,n){var r=this.positionSettings[e(n).parent().data("sumome-share-pos")];r.shares_displayed&&i>=0&&i>=this.settings.shares_minimum?(e(n).addClass("sumome-share-client-count"),e(n).find("span").remove(),e(n).append("<span>"+u(i)+"</span>")):(e(n).find("span").remove(),e(n).removeClass("sumome-share-client-count"))},this)),"pro"in this.settings&&this.settings.pro&&(i>=0&&i>=this.settings.shares_minimum?e("[data-sumome-share-count="+t+"]").text(u(i)):e("[data-sumome-share-count="+t+"]").text("")),this.updateTotals(s);try{e.ajax({type:"POST",dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.sumoUrl+"/api/jsonpcallback",data:{site_id:this.api.properties.siteId,href:r,service:t,count:i},success:function(e){}})}catch(a){}}},this))},this))},install:function(){e(window).on("resize.sumome-share",r.debounce(function(e){a.render()},300)),this.render(),setInterval(e.proxy(function(){this.bindCustomShares()},this),500)},remove:function(){e(".sumome-share-client-wrapper, .sumome-share-client-open-mobile").remove()},popupMobile:function(t,n){e(".sumome-share-client-close-mobile").trigger("click");var r=e('<div class="sumome-share-mobile-popup" />').appendTo(document.body),i=e('<div class="sumome-share-mobile-close-popup"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png"></div>'),s=e("<ul />").appendTo(r);s.data("sumome-share-target-url",t),s.data("sumome-share-target-text",n),i.appendTo(r),i.click(function(){e(document.body).removeClass("sumome-share-mobile-popup-open"),r.remove()}),e(document.body).addClass("sumome-share-mobile-popup-open"),this.renderPopupServices(s,!1)},popup:function(t,n){this.$modal=i.open({content:"<h5>Share</h5><ul />",className:"sumome-sharer-popup sumome-sharer-popup-small",overlayClassName:"sumome-sharer-popup-overlay",contentClassName:"sumome-sharer-popup-content",closeClassName:"sumome-sharer-popup-close",overlayClosesOnClick:!0}),this.$modal.find("ul").data("sumome-share-target-url",t),this.$modal.find("ul").data("sumome-share-target-text",n),this.$modal.on("vexResize",e.proxy(function(t,n){var r=Math.max((e(window).height()-n.$vexContent.outerHeight())/2,0);n.$vex.css({"padding-top":r+"px"})},this)),this.$modal.on("vexOpen",e.proxy(function(t,n){this.renderPopupServices(this.$modal.find("ul"),!0),this.$modal.resize(),(!("pro"in this.settings)||!this.settings.pro)&&e(".sumome-sharer-popup-overlay").append('<a class="sumome-sharer-popup-link" href="http://sumome.com/?src=sm-sh-'+this.api.properties.siteId+'" target="_blank">Powered by SumoMe</a>')},this))},renderPopupServices:function(r,i){var s=e('<input type="text" />').attr("placeholder","Find a service");s.insertBefore(r),(!("pro"in this.settings)||!this.settings.pro)&&r.after('<a class="sumome-sharer-popup-link" href="http://sumome.com/?src=sm-sh-'+this.api.properties.siteId+'" target="_blank">Powered by SumoMe</a>'),e.shareSortedKeys.map(e.proxy(function(t){var i=e.shareServices[t];if("background"in i&&"name"in i&&t!="sumome"){var s=e('<li data-service="'+t+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+t+"-"+(this.settings.color?n.whiteOrBlack(this.settings.color):"white")+'-60.png">'+i.name+"</li>").data("sumome-share",t);r.append(s),s.find("img").css("background",this.settings.color?this.settings.color:"background"in i?i.background:"#ccc")}},this)),r.on("click","li",e.proxy(function(n){var r=e(n.currentTarget).data("service"),i=e(n.delegateTarget).data("sumome-share-target-url")||o(),s=e(n.delegateTarget).data("sumome-share-target-text");if(r!="share"){this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:r+"-click",href:i});var u={url:i,text:s,pro:"pro"in this.settings&&this.settings.pro,siteId:this.api.properties.siteId,sumoUrl:this.api.properties.sumoUrl,shortenUrl:this.settings.use_shortener,shortener:this.settings.shortener+this.settings.short_domain};"services_settings"in this.settings&&this.settings.services_settings&&r in this.settings.services_settings&&e.extend(u,this.settings.services_settings[r]);if("pro"in this.settings&&this.settings.pro&&"url"in u&&u.url&&"utm"in this.settings&&this.settings.utm){var a=t(u.url);"utm_source"in this.settings&&this.settings.utm_source&&(a.removeQuery("utm_source"),a.addQuery("utm_source",this.settings.utm_source.replace("{service}",r))),"utm_medium"in this.settings&&this.settings.utm_medium&&(a.removeQuery("utm_medium"),a.addQuery("utm_medium",this.settings.utm_medium.replace("{service}",r))),"utm_name"in this.settings&&this.settings.utm_name&&(a.removeQuery("utm_campaign"),a.addQuery("utm_campaign",this.settings.utm_name.replace("{service}",r))),u.url=a.toString()}e.share(r,u,e.proxy(function(e){this.fetch([e])},this))}["fancy","kaboodle","printerfriendly","slashdot"].indexOf(r)>-1&&e(".sumome-vex-close",this.$modal).trigger("click")},this)),s.on("keyup",function(){var t=(e(this).val()+"").trim().toLowerCase(),n=e(this).next("ul");for(var r in e.shareServices){var i=e.shareServices[r];if("background"in i&&"name"in i){var s=i.name.toLowerCase(),o=t==""?!0:s.indexOf(t)>=0;n.find('li[data-service="'+r+'"]').toggle(o)}}}),i&&s.focus()},render:function(){var t=this.settings.articles,r=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),i=r<=this.settings.mobile_width?"mobile":"desktop";if("current_mode"in this.settings&&i==this.settings.current_mode){this.position();return}this.remove();if(this.positionSettings.length==0)return;this.settings.current_mode=i;var s=50;this.settings.size=="large"?s=70:this.settings.size=="small"&&(s=30);if(i=="mobile"){"positions"in this.settings&&this.settings.positions.indexOf("mbt")>=0&&(e("body").append('<div data-sumome-stylebuffer-top="90" data-sumome-stylebuffertop-offsety="'+this.positionSettings.mbt.offset_y+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile-top-bar'+(this.positionSettings.mbt.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbt.size+'"><div data-sumome-share-pos="mbt" class="sumome-share-client sumome-share-client-mobile-top-bar'+(this.positionSettings.mbt.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbt.size+'"></div></div>'),e("body").styleBufferTop()),"positions"in this.settings&&this.settings.positions.indexOf("mbb")>=0&&(e("body").append('<div data-sumome-stylebuffer-bottom="90" data-sumome-stylebufferbottom-offsety="'+(0-this.positionSettings.mbb.offset_y)+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile-bottom-bar'+(this.positionSettings.mbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbb.size+'"><div data-sumome-share-pos="mbb" class="sumome-share-client sumome-share-client-mobile-bottom-bar'+(this.positionSettings.mbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbb.size+'"></div></div>'),e("body").styleBufferBottom());if("positions"in this.settings&&this.settings.positions.indexOf("mbl")>=0){var o=e('<div class="sumome-share-client-open-mobile sumome-share-client-open-mobile-left'+(this.positionSettings.mbl.total_shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-black-60.png"></div>'),a=e('<div class="sumome-share-client-close-mobile sumome-share-client-close-mobile-left'+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png"></div>'),f=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile sumome-share-client-wrapper-mobile-left'+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"></div>'),l=e('<div class="sumome-share-client-mobile sumome-share-client-mobile-left'+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"></div>');e("body").append(o),f.append(l),l.append(a),e("body").append(f),this.positionSettings.mbl.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum&&o.append("<span>"+("share"in this.settings?u(this.settings.share):"0")+"</span>");if(this.positionSettings.mbl.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var c=e('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');this.positionSettings.mbl.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?c.append("<span><strong>"+("share"in this.settings?u(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):c.append("<span>"+this.settings.shares_label+"</span>"),c.css("background","transparent"),c.css("color","#fff");var h=e('<div class="sumome-row"></div>'),p=e('<div class="sumome-12 sumome-columns sumome-text-center"></div>');p.append(c),h.append(p),l.append(h)}var d=e('<div class="sumome-row"></div>');l.append(d);var v=0;this.positionSettings.mbl.services.forEach(e.proxy(function(t){if(v<this.positionSettings.mbl.services_displayed||t=="sumome"){var r=e('<div class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="'+t+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.pro&&t=="sumome"?"sumomepro":t)+"-"+(this.positionSettings.mbl.color?n.whiteOrBlack(this.positionSettings.mbl.color):"white")+'-60.png"></div>');this.positionSettings.mbl.shares_displayed&&t in this.settings&&parseInt(this.settings[t])>=this.settings.shares_minimum&&(r.addClass("sumome-share-client-count"),r.append("<span>"+(t in this.settings?u(this.settings[t]):"0")+"</span>")),r.css("background",this.positionSettings.mbl.color?this.positionSettings.mbl.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc"),r.css("color",this.positionSettings.mbl.color?n.whiteOrBlack(this.positionSettings.mbl.color):"color"in e.shareServices[t]?e.shareServices[t].color:"#fff");var i=e('<div class="sumome-4 sumome-columns sumome-text-center"></div>');i.append(r),d.append(i),t!="sumome"&&v++}},this)),d.find(".sumome-columns").last().addClass("sumome-end"),e(".sumome-share-client-open-mobile-left").on("click",e.proxy(function(t){e(".sumome-share-client-open-mobile-left").hide(),e(".sumome-share-client-wrapper-mobile-left").show(),e(document.body).addClass("sumome-share-mobile-popup-open")},this)),e(".sumome-share-client-close-mobile-left").on("click",e.proxy(function(t){e(".sumome-share-client-wrapper-mobile-left").hide(),e(".sumome-share-client-open-mobile-left").show(),e(document.body).removeClass("sumome-share-mobile-popup-open")},this))}if("positions"in this.settings&&this.settings.positions.indexOf("mbr")>=0){var o=e('<div class="sumome-share-client-open-mobile sumome-share-client-open-mobile-right'+(this.positionSettings.mbr.total_shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-black-60.png"></div>'),a=e('<div class="sumome-share-client-close-mobile sumome-share-client-close-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png"></div>'),f=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile sumome-share-client-wrapper-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"></div>'),l=e('<div class="sumome-share-client-mobile sumome-share-client-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"></div>');e("body").append(o),f.append(l),l.append(a),e("body").append(f),this.positionSettings.mbr.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum&&o.append("<span>"+("share"in this.settings?u(this.settings.share):"0")+"</span>");if(this.positionSettings.mbr.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var c=e('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');this.positionSettings.mbr.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?c.append("<span><strong>"+("share"in this.settings?u(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):c.append("<span>"+this.settings.shares_label+"</span>"),c.css("background","transparent"),c.css("color","#fff");var h=e('<div class="sumome-row"></div>'),p=e('<div class="sumome-12 sumome-columns sumome-text-center"></div>');p.append(c),h.append(p),l.append(h)}var d=e('<div class="sumome-row"></div>');l.append(d);var v=0;this.positionSettings.mbr.services.forEach(e.proxy(function(t){if(v<this.positionSettings.mbr.services_displayed||t=="sumome"){var r=e('<div class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="'+t+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.pro&&t=="sumome"?"sumomepro":t)+"-"+(this.positionSettings.mbr.color?n.whiteOrBlack(this.positionSettings.mbr.color):"white")+'-60.png"></div>');this.positionSettings.mbr.shares_displayed&&t in this.settings&&parseInt(this.settings[t])>=this.settings.shares_minimum&&(r.addClass("sumome-share-client-count"),r.append("<span>"+(t in this.settings?u(this.settings[t]):"0")+"</span>")),r.css("background",this.positionSettings.mbr.color?this.positionSettings.mbr.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc"),r.css("color",this.positionSettings.mbr.color?n.whiteOrBlack(this.positionSettings.mbr.color):"color"in e.shareServices[t]?e.shareServices[t].color:"#fff");var i=e('<div class="sumome-4 sumome-columns sumome-text-center"></div>');i.append(r),d.append(i),t!="sumome"&&v++}},this)),d.find(".sumome-columns").last().addClass("sumome-end"),e(".sumome-share-client-open-mobile-right").on("click",e.proxy(function(t){e(".sumome-share-client-open-mobile-right").hide(),e(".sumome-share-client-wrapper-mobile-right").show(),e(document.body).addClass("sumome-share-mobile-popup-open")},this)),e(".sumome-share-client-close-mobile-right").on("click",e.proxy(function(t){e(".sumome-share-client-wrapper-mobile-right").hide(),e(".sumome-share-client-open-mobile-right").show(),e(document.body).removeClass("sumome-share-mobile-popup-open")},this))}}else{e.fn.styleBuffer._update(),"positions"in this.settings&&this.settings.positions.indexOf("la")>=0,"positions"in this.settings&&this.settings.positions.indexOf("ra")>=0;if("positions"in this.settings&&this.settings.positions.indexOf("ra")>=0){t.unstatic(),t.styleBuffer("padding","right",20+this.positionSettings.ra.sizePx);var m=this;t.each(function(){var t=parseInt(e(this).css("padding-right").replace("px",""))-(s+10),n=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right-sidebar'+(m.positionSettings.ra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.ra.size+'"></div>'),r=e('<div data-sumome-share-pos="ra" class="sumome-share-client sumome-share-client-right-sidebar-article'+(m.positionSettings.ra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.ra.size+'"></div>');n.append(r);if(this._header){var i=this._header.position().top,o=this._header.outerHeight();n.css("top",i+o+"px")}n.css("right",t+"px"),e(this).prepend(n)})}if("positions"in this.settings&&this.settings.positions.indexOf("la")>=0){t.unstatic(),t.styleBuffer("padding","left",2+this.positionSettings.la.sizePx);var m=this;t.each(function(){var t=parseInt(e(this).css("padding-left").replace("px",""))-(10+s),n=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left-sidebar'+(m.positionSettings.la.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.la.size+'"></div>'),r=e('<div data-sumome-share-pos="la" class="sumome-share-client sumome-share-client-left-sidebar-article'+(m.positionSettings.la.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.la.size+'"></div>');n.append(r);if(this._header){var i=this._header.position().top,o=this._header.outerHeight();n.css("top",i+o+"px")}n.css("left",t+"px"),e(this).prepend(n)})}if("positions"in this.settings&&this.settings.positions.indexOf("hra")>=0){t.unstatic();var m=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(m.positionSettings.hra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.hra.size+'"></div>'),n=e('<div data-sumome-share-pos="hra" class="sumome-share-client sumome-share-client-header-right-article'+(m.positionSettings.hra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.hra.size+'"></div>');t.append(n),this._header?this._header.after(t):e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("hca")>=0){t.unstatic();var m=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(m.positionSettings.hca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.hca.size+'"></div>'),n=e('<div data-sumome-share-pos="hca" class="sumome-share-client sumome-share-client-header-center-article'+(m.positionSettings.hca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.hca.size+'"></div>');t.append(n),this._header?this._header.after(t):e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("hla")>=0){t.unstatic();var m=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(m.positionSettings.hla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.hla.size+'"></div>'),n=e('<div data-sumome-share-pos="hla" class="sumome-share-client sumome-share-client-header-left-article'+(m.positionSettings.hla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.hla.size+'"></div>');t.append(n),this._header?this._header.after(t):e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("tra")>=0){t.unstatic();var m=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(m.positionSettings.tra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.tra.size+'"></div>'),n=e('<div data-sumome-share-pos="tra" class="sumome-share-client sumome-share-client-top-right-article'+(m.positionSettings.tra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.tra.size+'"></div>');t.append(n),e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("tca")>=0){t.unstatic();var m=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(m.positionSettings.tca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.tca.size+'"></div>'),n=e('<div data-sumome-share-pos="tca" class="sumome-share-client sumome-share-client-top-center-article'+(m.positionSettings.tca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.tca.size+'"></div>');t.append(n),e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("tla")>=0){t.unstatic();var m=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(m.positionSettings.tla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.tla.size+'"></div>'),n=e('<div data-sumome-share-pos="tla" class="sumome-share-client sumome-share-client-top-left-article'+(m.positionSettings.tla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+m.settings.theme+" sumome-share-client-"+m.positionSettings.tla.size+'"></div>');t.append(n),e(this).prepend(t)})}"positions"in this.settings&&this.settings.positions.indexOf("bra")>=0&&t.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(this.positionSettings.bra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bra.size+'"><div data-sumome-share-pos="bra" class="sumome-share-client sumome-share-client-bottom-right-article'+(this.positionSettings.bra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bra.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("bca")>=0&&t.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(this.positionSettings.bca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bca.size+'"><div data-sumome-share-pos="bca" class="sumome-share-client sumome-share-client-bottom-center-article'+(this.positionSettings.bca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bca.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("bla")>=0&&t.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(this.positionSettings.bla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bla.size+'"><div data-sumome-share-pos="bla" class="sumome-share-client sumome-share-client-bottom-left-article'+(this.positionSettings.bla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bla.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("lp")>=0&&e("body").append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left-page'+(this.positionSettings.lp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.lp.size+'"><div data-sumome-share-pos="lp" class="sumome-share-client sumome-share-client-left-page'+(this.positionSettings.lp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.lp.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("rp")>=0&&e("body").append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right-page'+(this.positionSettings.rp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.rp.size+'"><div data-sumome-share-pos="rp" class="sumome-share-client sumome-share-client-right-page'+(this.positionSettings.rp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.rp.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("dbb")>=0&&(e("body").append('<div data-sumome-stylebuffer-bottom="90" data-sumome-stylebufferbottom-offsety="'+(0-this.positionSettings.dbb.offset_y)+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-desktop-bottom-bar'+(this.positionSettings.dbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.dbb.size+'"><div data-sumome-share-pos="dbb" class="sumome-share-client sumome-share-client-desktop-bottom-bar'+(this.positionSettings.dbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.dbb.size+'"></div></div>'),e("body").styleBufferBottom());if("positions"in this.settings&&(this.settings.positions.indexOf("lp")>=0||this.settings.positions.indexOf("rp")>=0)){var g=e('<div class="sumome-share-client-show"><span /></div>');e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").prepend(g);var y=e('<div class="sumome-share-client-hide"><span /></div>');e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").append(y),e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").hover(function(){e(this).hasClass("sumome-share-client-hidden")||e(this).find(".sumome-share-client-hide").fadeIn("fast")},function(){e(this).find(".sumome-share-client-hide").fadeOut("fast")}),e(".sumome-share-client-hide").click(function(){var t=e(this).closest(".sumome-share-client-wrapper"),n=t.hasClass("sumome-share-client-wrapper-left-page");t.data("sumome-share-original-position",t.css(n?"left":"right")),t.animate(n?{left:"-"+s+"px"}:{right:"-"+s+"px"},"fast",function(){e(this).addClass("sumome-share-client-hidden"),e(this).find(".sumome-share-client-hide").hide(),e(this).animate(n?{left:"0px"}:{right:"0px"},"fast")})}),e(".sumome-share-client-show").click(function(){var t=e(this).closest(".sumome-share-client-wrapper"),n=t.hasClass("sumome-share-client-wrapper-left-page"),r=t.data("sumome-share-original-position");t.animate(n?{left:"-"+s+"px"}:{right:"-"+s+"px"},"fast",function(){e(this).removeClass("sumome-share-client-hidden"),e(this).find(".sumome-share-client-hide").show(),e(this).animate(n?{left:r}:{right:r},"fast")})})}}this.customPositions.length&&this.customPositions.forEach(e.proxy(function(t){var n=e("[data-sumome-share-id="+t.position_id+"]");n.html('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-custom'+(t.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+(t.float?" sumome-share-client-float-"+t.float:"")+" sumome-share-client-"+t.size+'">'+'<div data-sumome-share-pos="'+t.position_id+'"'+' class="sumome-share-client sumome-share-client-custom'+(t.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+t.size+" sumome-share-client-"+t.orientation+'"></div></div>'),this.positionSettings[t.position_id]=t},this));var d=e(".sumome-share-client");d.each(e.proxy(function(t,r){var s=this.positionSettings[e(r).data("sumome-share-pos")];if(s.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var o=e('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');s.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?o.append("<span><strong>"+("share"in this.settings?u(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):o.append("<span>"+this.settings.shares_label+"</span>"),i==="mobile"?(o.css("background",s.color?s.color:"transparent"),o.css("color",s.color?n.whiteOrBlack(s.color):"black")):(o.css("background","transparent"),o.css("color","#000")),e(r).append(o)}},this)),d.each(e.proxy(function(t,r){var i=0,s=this.positionSettings[e(r).data("sumome-share-pos")];s.services.forEach(e.proxy(function(t){if(i<s.services_displayed||t=="sumome")if(t!="share"){var o=e('<a title="'+(this.settings.pro&&t=="sumome"?"More":e.shareServices[t].name)+'" class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="'+t+'" href="javascript:void(0);"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.pro&&t=="sumome"?"sumomepro":t)+"-"+(s.color?n.whiteOrBlack(s.color):"white")+'-60.png"></a>');s.shares_displayed&&t in this.settings&&parseInt(this.settings[t])>=this.settings.shares_minimum&&(o.addClass("sumome-share-client-count"),o.append("<span>"+(t in this.settings?u(this.settings[t]):"0")+"</span>")),o.css("background",s.color?s.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc"),o.css("color",s.color?n.whiteOrBlack(s.color):"color"in e.shareServices[t]?e.shareServices[t].color:"#fff"),e(r).append(o),t!="sumome"&&i++}},this))},this)),this.applyPositionSettings(),this.position(),this.alignShareLabels(),this.updateCustomCounts(),e(".sumome-share-client-share").on("click",e.proxy(function(e){this.click(e)},this)),e.each(this.positionSettings,function(t,r){e(".sumome-share-client-share",e('[data-sumome-share-pos="'+t+'"]')).hover(e.proxy(function(){var t=e(this).data("sumome-share");if(t&&t in e.shareServices){var i=n.shadeColor(r.color?r.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc",-10);e(this).css("background",i)}}),e.proxy(function(){var t=e(this).data("sumome-share");t&&t in e.shareServices&&e(this).css("background",r.color?r.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc")}))}),this.api.emit("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service/rendered")},bindCustomShares:function(){if("pro"in this.settings&&this.settings.pro){var t=e("[data-sumome-share]:not(.sumome-share-client-share, [data-sumome-custom])");t.on("click",e.proxy(function(e){this.click(e)},this)).attr("data-sumome-custom",!0),t.length>0&&this.updateCustomCounts()}},updateCustomCounts:function(){"pro"in this.settings&&this.settings.pro&&e("[data-sumome-share-count]").each(e.proxy(function(t,n){var r=e(n).data("sumome-share-count");this.settings.shares_displayed&&r in this.settings&&parseInt(this.settings[r])>=this.settings.shares_minimum?e(n).text(r in this.settings?u(this.settings[r]):"0"):e(n).text("")},this))},click:function(n){var r=e(n.currentTarget).data("sumome-share"),i=e(n.currentTarget).data("sumome-share-url")||e(n.currentTarget).closest(".sumome-share-client").data("sumome-share-target-url")||o(),s=e(n.currentTarget).data("sumome-share-text")||e(n.currentTarget).closest(".sumome-share-client").data("sumome-share-target-text");if(r=="sumome")this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:r+"-click",href:i}),this.settings.current_mode==="mobile"?this.popupMobile(i,s):this.popup(i,s);else if(r!="share"){this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:r+"-click",href:i});var u={url:i,text:s,pro:"pro"in this.settings&&this.settings.pro,siteId:this.api.properties.siteId,sumoUrl:this.api.properties.sumoUrl,shortenUrl:this.settings.use_shortener,shortener:this.settings.shortener+this.settings.short_domain};"services_settings"in this.settings&&this.settings.services_settings&&r in this.settings.services_settings&&e.extend(u,this.settings.services_settings[r]);if("pro"in this.settings&&this.settings.pro&&"url"in u&&u.url&&"utm"in this.settings&&this.settings.utm){var a=t(u.url);"utm_source"in this.settings&&this.settings.utm_source&&(a.removeQuery("utm_source"),a.addQuery("utm_source",this.settings.utm_source.replace("{service}",r))),"utm_medium"in this.settings&&this.settings.utm_medium&&(a.removeQuery("utm_medium"),a.addQuery("utm_medium",this.settings.utm_medium.replace("{service}",r))),"utm_name"in this.settings&&this.settings.utm_name&&(a.removeQuery("utm_campaign"),a.addQuery("utm_campaign",this.settings.utm_name.replace("{service}",r))),u.url=a.toString()}e.share(r,u,e.proxy(function(e){this.fetch([e])},this))}},applyPositionSettings:function(){if("positions"in this.settings&&this.settings.positions.length>0&&"position_settings"in this.settings){var t={lp:{suffix:"left-page",layout:"vertical"},rp:{suffix:"right-page",layout:"vertical"},la:{suffix:"left-sidebar-article",layout:"vertical"},ra:{suffix:"right-sidebar-article",layout:"vertical"},hla:{suffix:"header-left-article",layout:"horizontal"},hca:{suffix:"header-center-article",layout:"horizontal"},hra:{suffix:"header-right-article",layout:"horizontal"},tla:{suffix:"top-left-article",layout:"horizontal"},tca:{suffix:"top-center-article",layout:"horizontal"},tra:{suffix:"top-right-article",layout:"horizontal"},bla:{suffix:"bottom-left-article",layout:"horizontal"},bca:{suffix:"bottom-center-article",layout:"horizontal"},bra:{suffix:"bottom-right-article",layout:"horizontal"},dbb:{suffix:"wrapper-desktop-bottom-bar",layout:"horizontal"},mbt:{suffix:"wrapper-mobile-top-bar",layout:"horizontal"},mbb:{suffix:"wrapper-mobile-bottom-bar",layout:"horizontal"},mbl:{suffix:"open-mobile-left",layout:"horizontal"},mbr:{suffix:"open-mobile-right",layout:"horizontal"}};this.customPositions.length&&this.customPositions.forEach(e.proxy(function(e){this.settings.positions.push(e.position_id),t[e.position_id]={suffix:!1,layout:e.orientation}},this)),this.settings.positions.forEach(e.proxy(function(r){if(r in t){var i=this.positionSettings[r];positionData=t[r];if(positionData.suffix)var s=e(".sumome-share-client-"+positionData.suffix);else var s=e('[data-sumome-share-id="'+i.position_id+'"]');s.removeClass("sumome-share-client-circle").removeClass("sumome-share-client-rounded"),"button_style"in i&&i.button_style!="square"&&s.addClass("sumome-share-client-"+i.button_style),"button_padding"in i&&i.button_padding>0&&e(".sumome-share-client-share",s).css("margin"+(positionData.layout=="vertical"?"Bottom":"Right"),i.button_padding+"px");if("shares_background"in i)if(["mbl","mbr"].indexOf(r)>-1){var o=n.whiteOrBlack(i.shares_background);s.css({backgroundColor:n.hexToRGBA(i.shares_background,.8)}).find("span").css({color:o}),o=="white"&&s.find("img").attr("src",this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-white-60.png")}else{if(i.shares_background)var u={backgroundColor:i.shares_background,color:n.whiteOrBlack(i.shares_background)};else var u={backgroundColor:"transparent",color:"#000"};e(".sumome-share-client-share-share",s).css(u)}["la","ra"].indexOf(r)>-1&&(s=s.closest(".sumome-share-client-wrapper"));if(["lp","rp"].indexOf(r)<0)if(["mbt","mbb","mbl","mbr"].indexOf(r)>-1){if("offset_x"in i&&i.offset_x!=0){var a="left",f=i.offset_x;r=="mbr"&&(a="right",f=0-f),s.css(a,f+"px")}["mbt","mbb"].indexOf(r)<0&&"offset_y"in i&&i.offset_y!=0&&s.css("bottom",0-i.offset_y+"px")}else{var l="marginTop",a="marginLeft",f=0;i.position_id&&(s=e(".sumome-share-client-wrapper-custom",s)),"offset_x"in i&&i.offset_x!=0&&(r=="la"?a="left":r=="ra"?a="right":["tra","hra","bra"].indexOf(r)>-1&&(a="marginRight"),["ra","tra","hra","bra"].indexOf(r)>-1?f=0-i.offset_x:f=i.offset_x,s.css(a,f+"px")),"offset_y"in i&&i.offset_y!=0&&(["la","ra"].indexOf(r)>-1&&(l="top"),s.css(l,i.offset_y+"px"))}}},this))}},alignShareLabels:function(){e.each(e(".sumome-share-client-share-share"),function(){var t=e(this).outerHeight(),n=e(this).find("span").css("bottom","auto"),r=e(n).outerHeight();e(n).css("top",(t-r)/2+"px")})}};return a}),sumo.define("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service",["jquery","9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share"],function(e,t){return function(e){var n=function(n,r){sumo.require(["plugins/css!../css/sumome-share-client.css"],function(){t.api=e,t.initialize(),r()})},r=function(e){e()};return{init:n,destroy:r}}}),sumo.define("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service",function(){})})(undefined,undefined);